---
import Layout from "../../layouts/Layout.astro";

const lang = "zh";

const interfaces = [
    {
        id: "power",
        name: "1、供电接口",
        labelName: "·L/36V ·N/GND ·5V ·GND",
        area: { top: "0%", left: "16.5%", width: "9.8%", height: "15%" },
        labelPos: { top: "5%", left: "0%" },
        align: "left",
        vAlign: "up",
        detail: `
            <div class="detail-content">
                <div class="power-group">
                    <strong class="group-title">· L/36V · N/GND 端口</strong>
                    <div class="config-block">
                        <p><span class="config-label">交流版 (选配):</span> 接入 交流AC 70-270V (47-63Hz) 或 直流DC 100-380V。不区分零火线序。</p>
                        <p><span class="config-label">直流宽电压版 (选配):</span> 支持 直流DC 9-60V (>9W)。L/36V端接正极，N/GND端接负极。</p>
                        <p><span class="config-label">直流5V标配版:</span> 此端口组无作用。</p>
                    </div>
                </div>
                <div class="power-group" style="margin-top: 1rem;">
                    <strong class="group-title">· 5V · GND 端口</strong>
                    <div class="config-block">
                        <p><span class="config-label">输入模式:</span> 标配直流5V版使用。直流 5V (电流>1A)，GND 接负极。</p>
                        <p><span class="config-label">输出模式:</span> AC/宽压版此口输出 5V (电流<100mA)，可为小功率传感器供电。</p>
                    </div>
                </div>
                <strong class="group-title"><br/>· 接线示例：</strong>
                <div class="wiring-examples">
                    <div class="example-item example-item-wide">
                        <img src="/images/pwrdc.jpg" alt="直流宽电压供电" loading="lazy" />
                        <span class="example-title">直流宽电压DC 9-60V供电</span>
                    </div>
                    <div class="example-item">
                        <img src="/images/pwrac.jpg" alt="交流AC供电" loading="lazy" />
                        <span class="example-title">交流AC220/交流AC110V供电</span>
                    </div>
                    <div class="example-item">
                        <img src="/images/pwr5v.jpg" alt="5V供电" loading="lazy" />
                        <span class="example-title">5V供电</span>
                    </div>
                </div>
            </div>
        `,
    },
    {
        id: "pwm",
        name: "2、PWM输出",
        labelName: "·P4 ·G4 ·P3 ·G3 ·P2 ·G2 ·P1 ·G1",
        area: { top: "0%", left: "26.6%", width: "19%", height: "15%" },
        labelPos: { top: "-18%", left: "30%" },
        align: "center",
        vAlign: "up",
        detail: `
            <div class="detail-content">
                <div class="power-group">
                    <strong class="group-title">2.1、标准 PWM</strong>
                    <div class="config-block">
                        <p>基于 N-MOS 开漏输出，Pn 端口上拉 DC 5V。支持频率控制：0.025Hz ~ 150kHz，占空比控制：0.00% ~ 100.00%，支持线性加减速控制</p>
                        <p><span class="config-label">端口定义:</span> ·Pn 表示 PWM 输出正极，·Gn 表示负极 (GND)。</p>
                        <p><span class="config-label">负载能力:</span> 单路支持最高 DC 36V 10A 开关负载或 DC 36V 8A PWM 负载。</p>
                    </div>
                    
                    <div class="wiring-examples">
                        <div class="example-item">
                            <img src="/images/pwm_in_pcb.jpg" alt="PWM接口内部简化电路图" loading="lazy" />
                            <span class="example-title">PWM接口内部简化电路图</span>
                        </div>
                        <div class="example-item">
                            <img src="/images/pwm_led.jpg" alt="LED灯明亮/直流电机快慢控制 接线示例" loading="lazy" />
                            <span class="example-title">LED灯明亮/直流电机快慢控制 接线示例</span>
                        </div>
                        <div class="example-item">
                            <img src="/images/pwm_steper.jpg" alt="步进电机速度控制 接线示例" loading="lazy" />
                            <span class="example-title">步进电机速度控制 接线示例</span>
                        </div>
                        <div class="example-item">
                            <img src="/images/pwm_steper2.jpg" alt="舵机角度控制 接线示例" loading="lazy" />
                            <span class="example-title">舵机角度控制 接线示例</span>
                        </div>
                    </div>
                </div>
                <div class="power-group" style="margin-top: 1rem;">
                    <strong class="group-title">2.2、0-10V 信号输出(定制)</strong>
                    <div class="config-block">
                        <p>Pn 为输出电压正极，Gn 为电压负极，最大负载电流为 10mA。</p>
                    </div>
                    <div class="wiring-examples">
                        <div class="example-item example-item-wide">
                            <img src="/images/pwm_10v.jpg" alt="0-10V控制变频器 接线示例" loading="lazy" />
                            <span class="example-title">0-10V控制变频器 接线示例</span>
                        </div>
                    </div>
                </div>
                <div class="power-group" style="margin-top: 1rem;">
                    <strong class="group-title">2.3、0-20mA 信号输出(定制)</strong>
                    <div class="config-block">
                        <p>Pn 为电流输出端口，Gn 为电流输入端口。</p>
                    </div>
                    <div class="wiring-examples">
                        <div class="example-item example-item-wide">
                            <img src="/images/pwm_20ma.jpg" alt="0-20mA设备控制 接线示例" loading="lazy" />
                            <span class="example-title">0-20mA设备控制 接线示例</span>
                        </div>
                    </div>
                </div>
            </div>
        `,
    },
    {
        id: "pwmled",
        name: "3、PWM指示灯",
        labelName: "·P1 ·P2 ·P3 ·P4",
        area: { top: "0%", left: "46.8%", width: "2%", height: "15%" },
        labelPos: { top: "30%", left: "0%" },
        align: "left",
        vAlign: "down",
        detail: `
            <div class="detail-content">
                <p>实时显示 PWM1~4通道的输出状态。可观察开关和明暗状态。</p>
            </div>
        `,
    },
    {
        id: "usb",
        name: "4、USB供电口",
        labelName: "·USB供电",
        area: { top: "0%", left: "49.1%", width: "5%", height: "12%" },
        labelPos: { top: "45%", left: "0%" },
        align: "left",
        vAlign: "down",
        detail: `
            <div class="detail-content">
                <p>Micro USB接口(旧版)/Type-C接口(新版)，用于便捷的给设备提供5V电源供电，电源电流要求大于1.5A。<br /> 注意：供电线材请使用好的线材，避免因线材质量问题压降大导致设备供电电压不足，无法正常工作。</p>
            </div>
        `,
    },
    {
        id: "reset",
        name: "5、重置按钮",
        labelName: "·重启/重置 RST",
        area: { top: "13%", left: "50%", width: "3%", height: "4%" },
        labelPos: { top: "60%", left: "0%" },
        align: "left",
        vAlign: "down",
        detail: `
            <div class="detail-content">
                <div class="power-group">
                    <strong class="group-title">· 重启：短按1次</strong>
                    <div class="config-block">
                        <p>设备断电重启。</p>
                    </div>
                </div>
        
                <div class="power-group" style="margin-top: 1rem;">
                    <strong class="group-title">· 重置：连续短按7次</strong>
                    <div class="config-block">
                        <p><span class="config-label">操作方法:</span> 连续短按7次,每次按下1秒,松开1秒。</p>
                        <p><span class="config-label">功能:</span> 恢复出厂设置,设备将恢复到出厂默认状态,所有配置将被清空。</p>
                        <p class="hint">⚠️ 请谨慎操作此功能</p>
                    </div>
                </div>
        
                <div class="power-group" style="margin-top: 1rem;">
                    <strong class="group-title">· APP操作</strong>
                    <div class="config-block">
                        <p>在"源来智能"APP中,点击设备名称进入设备详情页,在"设置"界面中有"重置"和"重启"按钮,方便操作。</p>
                    </div>
                </div>
            </div>
        `,
    },
    {
        id: "ledrun",
        name: "6、电源/运行/网络指示灯",
        labelName: "·电源 ·运行 ·网络",
        area: { top: "0%", left: "54.2%", width: "2%", height: "15%" },
        labelPos: { top: "75%", left: "0%" },
        align: "left",
        vAlign: "down",
        detail: `
            <div class="detail-content">
                <div class="power-group">
                    <strong class="group-title">· 电源指示 (PWR)</strong>
                    <div class="config-block">
                        <p>亮灯表示设备供电正常。</p>
                    </div>
                </div>

                <div class="power-group" style="margin-top: 1rem;">
                    <strong class="group-title">· 运行状态 (RUN)</strong>
                    <div class="config-block">
                        <p><span class="config-label">2秒闪一次:</span> 系统运行正常。</p>
                        <p><span class="config-label">快闪(0.5s/次):</span> 蓝牙连接中 (APP 交互中)。</p>
                        <p><span class="config-label">双闪(每2s快闪2次):</span> MQTT 版网络连接成功。</p>
                        <p><span class="config-label">常亮/常灭:</span> 运行异常，请尝试重新上电；若依旧常亮/灭，提示硬件故障。</p>
                    </div>
                </div>

                <div class="power-group" style="margin-top: 1rem;">
                    <strong class="group-title">· 网络状态 (NET)</strong>
                    <div class="config-block">
                        <p><span class="config-label">涂鸦 WIFI 版:</span> 快闪=待配网；常亮=已联网；常灭=联网失败/连接中。</p>
                        <p><span class="config-label">涂鸦 4G 版 / 4G MQTT 版:</span> 慢闪=已连接基站；常灭=搜索中或网络异常。</p>
                        <p><span class="config-label">WIFI MQTT 版:</span> 无物理逻辑作用。</p>
                    </div>
                </div>
            </div>
        `,
    },
    {
        id: "di",
        name: "7、开关量/NPN/频率/脉冲输入",
        labelName: "·输入1 ·输入2 ·输入3 ·输入4 ·输入5 ·输入6",
        area: { top: "-1%", left: "57.1%", width: "11.4%", height: "18%" },
        labelPos: { top: "-8%", left: "53%" },
        align: "center",
        vAlign: "up",
        detail: `
            <div class="detail-content">
                <div class="power-group">
                    <strong class="group-title">· 信号类型</strong>
                    <div class="config-block">
                        <p>支持开关量、NPN、频率、脉冲等多种信号输入。</p>
                        <p><span class="config-label">信号特性:</span> 低电平/负极/GND信号有效。</p>
                        <p><span class="config-label">高速计数:</span> 支持20kHz频率输入。</p>
                        <p><span class="config-label">耐压能力:</span> 输入端口耐压1KV。</p>
                    </div>
                </div>

                <div class="power-group" style="margin-top: 1rem;">
                    <strong class="group-title">· 支持设备</strong>
                    <div class="config-block">
                        <p>继电器、按钮、开关、人体传感器、限位开关、光电开关、磁性开关、水位开关、接近开关、红外对射传感器等。</p>
                    </div>
                </div>

                <div class="power-group" style="margin-top: 1rem;">
                    <strong class="group-title">· 接线示例</strong>
                </div>
                <div class="wiring-examples">
                    <div class="example-item">
                        <img src="/images/input_btn.jpg" alt="开关/按钮 接线示例" loading="lazy" />
                        <span class="example-title">开关/按钮 接线示例</span>
                    </div>
                    <div class="example-item  example-item-wide">
                        <img src="/images/input_npn.jpg" alt="NPN信号传感器 接线示例" loading="lazy" />
                        <span class="example-title">NPN信号传感器 接线示例</span>
                    </div>
                    <div class="example-item">
                        <img src="/images/input_reply.jpg" alt="继电器作为输入 接线示例" loading="lazy" />
                        <span class="example-title">继电器作为输入 接线示例</span>
                    </div>
                </div>
                <div class="power-group mt-4">
                    <strong class="group-title">· APP中查看输入状态</strong>
                    <div class="flex items-start gap-6">
                        <!-- 图片容器 -->
                        <div style="position: relative; width: 20%; flex-shrink: 0;">
                            <img src="/images/screenshot/params.jpg" alt="开关量输入状态" loading="lazy" 
                                 style="width: 100%; height: auto; display: block; border-radius: 0.75rem; box-shadow: 0 4px 6px -1px rgba(0,0,0,0.1);" />
                            <!-- 高亮区域 -->
                            <div style="position: absolute; top: 92%; left: 30%; width: 23%; height: 8%; border: 3px solid #4ecdc4; background: rgba(78,205,196,0.1); border-radius: 0.25rem; z-index: 10;"></div>
                            <div style="position: absolute; top: 12%; left: 54%; width: 26%; height: 6%; border: 3px solid #4ecdc4; background: rgba(78,205,196,0.1); border-radius: 0.25rem; z-index: 10;"></div>
                            <div style="position: absolute; top: 19%; left: 43%; width: 57%; height: 13%; border: 3px solid #4ecdc4; background: rgba(78,205,196,0.1); border-radius: 0.25rem; z-index: 10;"></div>
                        </div>
                        <!-- 局部放大图 -->
                        <div style="background: white; border-radius: 18px; box-shadow: 0 25px 50px -12px rgba(0,0,0,0.25); border: 3px solid #4ecdc4; padding: 0.5rem; width: 35%; flex-shrink: 0;">
                            <div style="overflow: hidden; position: relative; width: 100%; aspect-ratio: 50 / 25;">
                                <img src="/images/screenshot/params.jpg" alt="输入状态局部放大" loading="lazy" 
                                     style="position: absolute; width: 100%; height: auto; top: 23%; left: -39%; transform: scale(1.8);" />
                            </div>
                            <div class="mt-2 py-1 text-center">
                                <div class="text-left bg-gray-50 p-2 px-3 rounded-md mt-2">
                                    <div class="mb-1.5">
                                        <span class="desc-text">1. 此区域可以左右滑动,查看更多输入状态。</span>
                                    </div>
                                    <div class="mb-1.5">
                                        <span class="desc-text-highlight">2. </span>
                                        <span class="desc-text">以第三块输入状态为例,内容 </span>
                                        <code class="desc-code">"3~0 2546"</code>
                                        <span class="desc-text"> 表示输入3,当前输入的频率为0Hz,累计脉冲数2546个。</span>
                                    </div>
                                    <div class="mb-0">
                                        <span class="desc-text-highlight">3. </span>
                                        <span class="desc-text">方块背景 </span>

                                        <span style="display: inline-block; width: 1.2rem; height: 1rem; border-radius: 0.125rem; vertical-align: middle; background: #87ceeb;"></span>
                                        <span class="desc-text"> 蓝色表示输入"激活"状态,</span>
                                        <span style="display: inline-block; width: 1.2rem; height: 1rem; border-radius: 0.125rem; vertical-align: middle; background: white; border: 1px solid #d1d5db;"></span>
                                        <span class="desc-text"> 白色表示输入"静默"状态。</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        `,
    },
    {
        id: "ai",
        name: "8、模拟量输入",
        labelName: "·模拟1 ·模拟2 ·模拟3",
        area: { top: "-1%", left: "68.3%", width: "5.5%", height: "18%" },
        labelPos: { top: "-18%", left: "73%" },
        align: "right",
        vAlign: "up",
        detail: `
            <div class="detail-content">
                <div class="power-group">
                    <strong class="group-title">· 信号类型</strong>
                    <div class="config-block">
                        <p>支持 0-20mA / 0-10V / 自定义ADC 等多种模拟量信号的传感器接入。</p>
                        <p><span class="config-label">如:</span> 液位变送器、压力变送器、电流变送器、温度变送器、位移传感器、风速传感器等。</p>
                    </div>
                </div>
        
                <div class="power-group" style="margin-top: 1rem;">
                    <strong class="group-title">· 挡位支持的参数范围信号输入</strong>
                    <div class="config-block">
                        <p><span class="config-label">0-20mA 挡位:</span> 支持 0-20mA, 4-20mA, 0-40mA(新版硬件)</p>
                        <p><span class="config-label">0-10V 挡位:</span> 支持 0-10V, 0-5V, 1-10V, 0-24V(新版硬件)</p>
                        <p><span class="config-label">自定义ADC 挡位:</span> 支持 0-1.5V, 0-3V(新版硬件)电压采样</p>
                    </div>
                </div>
        
                <div class="power-group" style="margin-top: 1rem;">
                    <strong class="group-title">· 挡位切换物理操作</strong>
                    <div class="config-block">
                        <p>设备上边侧面有三档切换滑动开关,用于切换不同信号类型。</p>
                        <p><span class="config-label">如图所示:</span> 模拟量1为自定义ADC挡位,模拟量2为0-10V挡位,模拟量3为0-20mA挡位。</p>
                        <img src="/images/adc.jpg" alt="模拟量挡位切换示例" loading="lazy" style="width: 100%; max-width: 500px; margin-top: 1rem; border-radius: 8px; box-shadow: 0 4px 12px rgba(0,0,0,0.1);" />
                    </div>
                </div>
                <div class="power-group" style="margin-top: 1rem;">
                    <strong class="group-title">· 接线示例</strong>
                </div>
                <div class="wiring-examples">
                    <div class="example-item">
                        <img src="/images/adc2.jpg" alt="2线制4-20mA传感器" loading="lazy" />
                        <span class="example-title">2线制4-20mA传感器 接线示例</span>
                    </div>
                    <div class="example-item">
                        <img src="/images/adc3.jpg" alt="3线制4-20mA或0-10V传感器" loading="lazy" />
                        <span class="example-title">3线制4-20mA或0-10V传感器</span>
                    </div>
                    <div class="example-item">
                        <img src="/images/adc4.jpg" alt="4线制4-20mA传感器" loading="lazy" />
                        <span class="example-title">4线制4-20mA传感器</span>
                    </div>
                    <div class="example-item">
                        <img src="/images/adc1_5.jpg" alt="检测48V电池电压(自定义ADC)" loading="lazy" />
                        <span class="example-title">检测48V电池电压(自定义ADC)-电阻分压到1.5V</span>
                    </div>
                </div>
                <div class="power-group mt-4">
                    <strong class="group-title">· APP中查看输入状态</strong>
                    <div class="flex items-start gap-6">
                        <!-- 图片容器 -->
                        <div style="position: relative; width: 20%; flex-shrink: 0;">
                            <img src="/images/screenshot/params.jpg" alt="开关量输入状态" loading="lazy" 
                                 style="width: 100%; height: auto; display: block; border-radius: 0.75rem; box-shadow: 0 4px 6px -1px rgba(0,0,0,0.1);" />
                            <!-- 高亮区域 -->
                            <div style="position: absolute; top: 92%; left: 30%; width: 23%; height: 8%; border: 3px solid #4ecdc4; background: rgba(78,205,196,0.1); border-radius: 0.25rem; z-index: 10;"></div>
                            <div style="position: absolute; top: 12%; left: 54%; width: 26%; height: 6%; border: 3px solid #4ecdc4; background: rgba(78,205,196,0.1); border-radius: 0.25rem; z-index: 10;"></div>
                            <div style="position: absolute; top: 53%; left: 1%; width: 98%; height: 15%; border: 3px solid #4ecdc4; background: rgba(78,205,196,0.1); border-radius: 0.25rem; z-index: 10;"></div>
                        </div>
                        <!-- 局部放大图 -->
                        <div style="background: white; border-radius: 18px; box-shadow: 0 25px 50px -12px rgba(0,0,0,0.25); border: 3px solid #4ecdc4; padding: 0.5rem; width: 35%; flex-shrink: 0;">
                            <div style="overflow: hidden; position: relative; width: 100%; aspect-ratio: 50 / 15;">
                                <img src="/images/screenshot/params.jpg" alt="模拟量状态局部放大" loading="lazy" 
                                     style="position: absolute; width: 100%; height: auto; display: block; top: -400%; left: 0%" />
                            </div>
                            <div class="mt-2 py-1 text-center">
                                <div class="text-left bg-gray-50 p-2 px-3 rounded-md mt-2">
                                    <div class="desc-text">1. 此区域有三列数据对应模拟量输入1~3。</div>
                                    <div class="desc-text">2. 以第一列数据(模拟量1)为例,内容："14.74 0.74V" 表示模拟量1的量程值(实际值)：14.74, 物理输入原始数据值：0.74V。</div>
                                    <div class="desc-text">3. 点击每列右边的“齿轮”图标进入对应的参数设置界面(如右图)。</div>
                                    <div class="desc-text">4. 右图中的“模式”设置要与设备上的物理挡位切换开关一致。</div>
                                </div>
                            </div>
                        </div>
                        <div style="position: relative; width: 20%; flex-shrink: 0;">
                            <img src="/images/adc_setting.jpg" alt="模拟量输入参数设置" loading="lazy" 
                                 style="width: 100%; height: auto; display: block; border-radius: 0.75rem; box-shadow: 0 4px 6px -1px rgba(0,0,0,0.1);" />
                        </div>
                    </div>
                </div>
            </div>
        `,
    },
    {
        id: "rs485",
        name: "9、RS485/温度",
        labelName: "·485B- ·A+/温度",
        area: { top: "-1%", left: "74%", width: "3.5%", height: "18%" },
        labelPos: { top: "35%", left: "100%" },
        align: "right",
        vAlign: "down",
        detail: `
            <div class="detail-content">
                <div class="power-group">
                    <strong class="group-title">· A+/温度 端口</strong>
                    <div class="config-block">
                        <p><span class="config-label">默认功能:</span> 支持 DS18B20 型温度传感器,读取值对应 APP 中的"温度1"。</p>
                        <p><span class="config-label">注意事项:</span> 传感器线长应≤2米,超长易受干扰导致读取失败。</p>
                        <p><span class="config-label">选配RS485时:</span> 此端口作为 RS485 A+ 端口,DS18B20功能失效。</p>
                        <div class="wiring-examples">
                            <div class="example-item example-item-wide">
                                <img src="/images/ds18b20.jpg" alt="DS18B20温度传感器" loading="lazy" />
                                <span class="example-title">DS18B20温度传感器 接线示例</span>
                            </div>
                        </div>
                    </div>
                    
                </div>
       
                <div class="power-group" style="margin-top: 1rem;">
                    <strong class="group-title">· RS485 Modbus RTU (选配)</strong>
                    <div class="config-block">
                        <p>宜启智控作为RS485主机,支持读取和控制各种RS485从机设备。</p>
                        <p><span class="config-label">协议标准:</span> Modbus RTU 标准协议</p>
                        <p><span class="config-label">波特率:</span> 1200~38400bps</p>
                        <p><span class="config-label">读取功能码:</span> 01H、02H、03H、04H</p>
                        <p><span class="config-label">写入功能码:</span> 05H、06H、0FH、10H</p>
                        <p><span class="config-label">设备容量:</span> 最多16个从机,可读取32个数据值和32个状态值(线圈/离散)</p>
                        <p><span class="config-label">读取周期:</span> 每0.5秒自动循环读取</p>
                        <p><span class="config-label">从机地址:</span> 写入命令支持地址范围 1-31</p>
                        <p><span class="config-label">支持设备:</span> PLC、工控触摸屏、智能电表、气象站、继电器模块、伺服电机、变频器、PH传感器、溶解氧传感器等</p>
                        <p><span class="config-label">正确接线示例:</span></p>
                        <div class="wiring-examples">
                            <div class="example-item example-item-wide">
                                <img src="/images/rs485_1.jpg" alt="单个RS485设备接线示例" loading="lazy" />
                                <span class="example-title">单个RS485设备接线示例</span>
                            </div>
                            <div class="example-item example-item-wide">
                                <img src="/images/rs485_n.jpg" alt="多个RS485设备接线示例" loading="lazy" />
                                <span class="example-title">多个RS485设备—手牵手接线(正确)</span>
                            </div>
                        </div>
                        <p><span class="config-label"><br/>不建议(容易受干扰)接线示例:</span></p>
                        <div class="wiring-examples">
                            <div class="example-item example-item-wide">
                                <img src="/images/rs485_ne1.jpg" alt="多个RS485设备接线示例" loading="lazy" />
                                <span class="example-title">多个RS485设备-T型接线（不建议，容易受干扰）</span>
                            </div>
                            <div class="example-item example-item-wide">
                                <img src="/images/rs485_ne2.jpg" alt="多个RS485设备接线示例" loading="lazy" />
                                <span class="example-title">多个RS485设备-星型接线（不建议，容易受干扰）</span>
                            </div>
                        </div>
                        <p><span class="config-label"><br/>App中RS485相关界面:</span></p>
                        <div class="screenshot-gallery">
                            <div class="gallery-item">
                                <img src="/images/rs485s1.jpg" alt="RS485设备配置界面" loading="lazy" />
                            </div>
                            <div class="gallery-item">
                                <img src="/images/rs485s2.jpg" alt="RS485数据读取界面" loading="lazy" />
                            </div>
                            <div class="gallery-item">
                                <img src="/images/rs485s3.jpg" alt="RS485参数设置" loading="lazy" />
                            </div>
                            <div class="gallery-item">
                                <img src="/images/rs485s4.jpg" alt="RS485状态监控" loading="lazy" />
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        `,
    },
    {
        id: "iic",
        name: "10、IIC接口",
        labelName: "·SCL ·SDA",
        area: { top: "-1%", left: "77.5%", width: "3.5%", height: "18%" },
        labelPos: { top: "20%", left: "100%" },
        align: "right",
        vAlign: "down",
        detail: `
            <div class="detail-content">
                <p>支持IIC设备读写操作，内置SHT30温湿度传感器和光照度传感器的协议解析，即插即用；其中SHT30的温度值对应APP中的“温度2”; IIC通信电平为3.3V</p>
                <div class="power-group" style="margin-top: 1rem;">
                    <strong class="group-title">· 接线示例</strong>
                </div>
                <div class="wiring-examples">
                    <div class="example-item">
                        <img src="/images/iict.jpg" alt="SHT30温湿度传感器" loading="lazy" />
                        <span class="example-title">SHT30温湿度传感器</span>
                    </div>
                    <div class="example-item">
                        <img src="/images/iicl.jpg" alt="光照度传感器" loading="lazy" />
                        <span class="example-title">光照度传感器</span>
                    </div>
                    <div class="example-item  example-item-wide">
                        <img src="/images/iicn.jpg" alt="多路IIC传感器" loading="lazy" />
                        <span class="example-title">多路IIC传感器</span>
                    </div>
                </div>
                <div class="power-group" style="margin-top: 1rem;">
                    <strong class="group-title">· App中IIC相关界面:</strong>
                </div>
                <div class="screenshot-gallery">
                    <div class="gallery-item">
                        <img src="/images/screenshot/params.jpg" alt="IIC设备参数界面" loading="lazy" />
                        <div style="position: absolute; top: 92%; left: 30%; width: 23%; height: 8%; border: 3px solid #4ecdc4; background: rgba(78,205,196,0.1); border-radius: 0.25rem; z-index: 10;" ></div>
                        <div style="position: absolute; top: 12%; left: 54%; width: 26%; height: 6%; border: 3px solid #4ecdc4; background: rgba(78,205,196,0.1); border-radius: 0.25rem; z-index: 10;"></div>
                        <div style="position: absolute; top: 31%; left: 2%; width: 41%; height: 11%; border: 3px solid #4ecdc4; background: rgba(78,205,196,0.1); border-radius: 0.25rem; z-index: 10;"></div>
                        <div style="position: absolute; top: 46.5%; left: 16.5%; width: 12%; height: 7%; border: 3px solid #4ecdc4; background: rgba(78,205,196,0.1); border-radius: 0.25rem; z-index: 10;"></div>
                        <div style="position: absolute; top: 41%; left: 44%; width: 55%; height: 13%; border: 3px solid #4ecdc4; background: rgba(78,205,196,0.1); border-radius: 0.25rem; z-index: 10;"></div>
                    </div>
                    <div class="gallery-item">
                        <img src="/images/iics1.jpg" alt="IIC数据读取界面" loading="lazy" />
                    </div>
                    <div class="gallery-item">
                        <img src="/images/iics2.jpg" alt="IIC数据写入界面" loading="lazy" />
                    </div>
                </div>
            </div>
        `,
    },
    {
        id: "dc3v",
        name: "11、3V电源输出",
        labelName: "·公共地 ·3V输出",
        area: { top: "-1%", left: "81%", width: "3.5%", height: "18%" },
        labelPos: { top: "-3%", left: "100%" },
        align: "right",
        vAlign: "up",
        detail: `
            <div class="detail-content">
                <p>为小功率传感器提供直流 3V 供电。输出最大负载电流30mA, "·3V输出"端口为正极, "·公共地"端口为负极</p>
            </div>
        `,
    },
    {
        id: "relay",
        name: "12、继电器/开关 输出",
        labelName: "·常开1 ·公共1 ·常闭1 ... ·常开6 ·公共6 ·常闭6",
        area: { top: "85%", left: "15.5%", width: "64%", height: "18%" },
        labelPos: { top: "113%", left: "45%" },
        align: "center",
        vAlign: "down",
        detail: `
            <div class="detail-content">
                <p>高品质大功率继电器，AC 220V 10A 支持。</p>
            </div>
        `,
    },
    {
        id: "outled",
        name: "13、继电器指示灯",
        labelName: "·O1 ·O2 ·O3 ·O4 ·O5 ·O6",
        area: { top: "85%", left: "79.5%", width: "5%", height: "18%" },
        labelPos: { top: "113%", left: "82%" },
        align: "center",
        vAlign: "down",
        detail: `
            <div class="detail-content">
                <p>实时指示 6 路继电器的当前动作状态。</p>
            </div>
        `,
    },
    {
        id: "rf433Tx",
        name: "14、遥控信号(433MHz)发送",
        labelName: "·433MHz发送",
        area: { top: "30%", left: "75%", width: "10%", height: "5%" },
        labelPos: { top: "50%", left: "100%" },
        align: "right",
        vAlign: "down",
        detail: `
            <div class="detail-content">
                <p>发送433MHz遥控信号。</p>
            </div>
        `,
    },
    {
        id: "rf433Rx",
        name: "15、遥控信号(433MHz)接收",
        labelName: "·433MHz接收",
        area: { top: "45%", left: "75%", width: "10%", height: "5%" },
        labelPos: { top: "65%", left: "100%" },
        align: "right",
        vAlign: "down",
        detail: `
            <div class="detail-content">
                <p>接收433MHz遥控信号。</p>
            </div>
        `,
    },
];
---

<Layout
    title="硬件接口及电气参数 - 宜启智控Pro"
    description="宜启智控Pro硬件接口详解，包括继电器输出、PWM输出、开关量输入、模拟量输入、RS485 Modbus、IIC等接口规格"
    lang={lang}
>
    <div class="page-header">
        <div class="container">
            <h1 class="page-title">硬件接口及电气参数</h1>
            <p class="page-subtitle">
                了解宜启智控Pro的强大接口能力，满足95%传感器接入需求
            </p>
        </div>
    </div>

    <div class="content-wrapper">
        <main class="main-content">
            <!-- Overview Section -->
            <section id="overview" class="doc-section">
                <h2>接口总览</h2>
                <div class="interface-container">
                    <div class="interface-map" id="hardware-map">
                        <img
                            src="/images/products/6o4wzm.png"
                            alt="宜启智控Pro硬件接口图"
                        />

                        {/* SVG 引线层 */}
                        <svg
                            class="leader-lines-svg"
                            viewBox="0 0 100 100"
                            preserveAspectRatio="none"
                        >
                            {
                                interfaces.map((item) => {
                                    const startX =
                                        parseFloat(item.area.left) +
                                        parseFloat(item.area.width) / 2;
                                    const startY =
                                        parseFloat(item.area.top) +
                                        parseFloat(item.area.height) / 2;
                                    const endX = parseFloat(item.labelPos.left);
                                    const endY = parseFloat(item.labelPos.top);
                                    return (
                                        <line
                                            x1={startX}
                                            y1={startY}
                                            x2={endX}
                                            y2={endY}
                                            class="leader-line-path"
                                            id={`line-${item.id}`}
                                        />
                                    );
                                })
                            }
                        </svg>

                        {/* 交互标注层 */}
                        {
                            interfaces.map((item) => (
                                <div
                                    class={`interface-marker v-align-${item.vAlign || "up"}`}
                                    data-id={item.id}
                                    onmouseenter={`document.getElementById('line-${item.id}').classList.add('active')`}
                                    onmouseleave={`document.getElementById('line-${item.id}').classList.remove('active')`}
                                >
                                    {/* 接口矩形区域 */}
                                    <a
                                        href={`#detail-${item.id}`}
                                        class="interface-area"
                                        style={`top: ${item.area.top}; left: ${item.area.left}; width: ${item.area.width}; height: ${item.area.height};`}
                                        title={`点击查看 ${item.name} 详情`}
                                    />

                                    {/* 外围标签及浮层 */}
                                    <a
                                        href={`#detail-${item.id}`}
                                        class={`external-label align-${item.align}`}
                                        style={`top: ${item.labelPos.top}; left: ${item.labelPos.left};`}
                                    >
                                        <div class="label-text">
                                            {item.name}
                                        </div>
                                        <div class="point-tooltip">
                                            <h5>{item.name}</h5>
                                            {item.labelName && (
                                                <div class="tooltip-port-row">
                                                    <span class="tooltip-badge">
                                                        {item.labelName}
                                                    </span>
                                                </div>
                                            )}
                                            <div
                                                class="tooltip-body"
                                                set:html={item.detail}
                                            />
                                        </div>
                                    </a>
                                </div>
                            ))
                        }
                    </div>
                </div>
            </section>

            <!-- Detailed Interface List -->
            <section id="interface-details" class="doc-section">
                <h2>接口详细说明</h2>
                <div class="details-grid">
                    {
                        interfaces.map((item) => (
                            <div class="detail-card" id={`detail-${item.id}`}>
                                <h3>
                                    {item.name}
                                    {item.labelName && (
                                        <span class="card-badge">
                                            {item.labelName}
                                        </span>
                                    )}
                                </h3>
                                <div
                                    class="detail-full"
                                    set:html={item.detail}
                                />
                            </div>
                        ))
                    }
                </div>
            </section>

            <!-- Relay Output -->
            <section id="relay" class="doc-section">
                <h2>继电器输出</h2>
                <p>
                    继电器输出用于控制照明、水泵、电磁阀、交流接触器等负载设备。
                </p>

                <div class="info-card warning">
                    <h4>⚠️ 安全注意</h4>
                    <p>
                        高压接线请由专业电工操作，确保高低压分离，避免触电风险。
                    </p>
                </div>

                <h3>电气参数</h3>
                <table class="spec-table">
                    <thead>
                        <tr>
                            <th>参数</th>
                            <th>规格</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>最大阻性负载</td>
                            <td>AC 220V 9A / DC 30V 9A</td>
                        </tr>
                        <tr>
                            <td>最大感性负载</td>
                            <td>AC 220V 3A / DC 30V 3A</td>
                        </tr>
                        <tr>
                            <td>触点类型</td>
                            <td>常开(NO) + 公共端(COM)</td>
                        </tr>
                        <tr>
                            <td>继电器寿命</td>
                            <td>>10万次</td>
                        </tr>
                    </tbody>
                </table>

                <h3>接线说明</h3>
                <ul class="feature-list">
                    <li><strong>COM端</strong>：公共端，接电源（火线/正极）</li>
                    <li><strong>NO端</strong>：常开端，接负载</li>
                    <li>大功率负载需外接交流接触器进行扩展</li>
                </ul>
            </section>

            <!-- PWM Output -->
            <section id="pwm" class="doc-section">
                <h2>PWM输出</h2>
                <p>
                    PWM输出用于LED调光、电机调速、步进电机驱动、舵机控制等需要精确控制的场景。
                </p>

                <h3>电气参数</h3>
                <table class="spec-table">
                    <thead>
                        <tr>
                            <th>参数</th>
                            <th>规格</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>输出类型</td>
                            <td>NMOS开漏输出</td>
                        </tr>
                        <tr>
                            <td>最大开关负载</td>
                            <td>DC 36V 10A</td>
                        </tr>
                        <tr>
                            <td>最大PWM负载</td>
                            <td>DC 36V 8A</td>
                        </tr>
                        <tr>
                            <td>占空比范围</td>
                            <td>0-100% (精度0.01%)</td>
                        </tr>
                        <tr>
                            <td>频率范围</td>
                            <td>1Hz - 100kHz</td>
                        </tr>
                    </tbody>
                </table>

                <h3>应用场景</h3>
                <ul class="feature-list">
                    <li><strong>LED调光</strong>：占空比调节实现无级调光</li>
                    <li><strong>电机调速</strong>：配合电机驱动器调节转速</li>
                    <li><strong>步进电机</strong>：脉冲+方向信号精确定位</li>
                    <li><strong>舵机控制</strong>：脉宽调节角度位置</li>
                </ul>
            </section>

            <!-- Digital Input -->
            <section id="digital-input" class="doc-section">
                <h2>开关量输入</h2>
                <p>
                    开关量输入支持无源干接点、有源湿接点、NPN传感器信号及频率/脉冲计数。
                </p>

                <h3>电气参数</h3>
                <table class="spec-table">
                    <thead>
                        <tr>
                            <th>参数</th>
                            <th>规格</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>输入类型</td>
                            <td>干接点 / NPN / 电平信号</td>
                        </tr>
                        <tr>
                            <td>输入电压范围</td>
                            <td>DC 3.3V - 24V</td>
                        </tr>
                        <tr>
                            <td>最大频率采集</td>
                            <td>20kHz</td>
                        </tr>
                        <tr>
                            <td>脉冲计数</td>
                            <td>32位计数器，断电保存</td>
                        </tr>
                    </tbody>
                </table>

                <h3>支持传感器类型</h3>
                <ul class="feature-list">
                    <li>浮球水位开关、行程开关</li>
                    <li>光电开关、接近开关(NPN型)</li>
                    <li>门磁、烟雾报警器</li>
                    <li>流量计脉冲信号</li>
                </ul>
            </section>

            <!-- Analog Input -->
            <section id="analog-input" class="doc-section">
                <h2>模拟量输入</h2>
                <p>模拟量输入支持工业标准的4-20mA电流信号和0-10V电压信号。</p>

                <h3>电气参数</h3>
                <table class="spec-table">
                    <thead>
                        <tr>
                            <th>通道类型</th>
                            <th>输入范围</th>
                            <th>精度</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>电流输入</td>
                            <td>4-20mA</td>
                            <td>12位ADC</td>
                        </tr>
                        <tr>
                            <td>电压输入</td>
                            <td>0-10V</td>
                            <td>12位ADC</td>
                        </tr>
                        <tr>
                            <td>自定义ADC</td>
                            <td>0-1.5V (需分压电阻)</td>
                            <td>12位ADC</td>
                        </tr>
                    </tbody>
                </table>

                <h3>支持传感器</h3>
                <ul class="feature-list">
                    <li>4-20mA：压力传感器、液位传感器、温湿度变送器</li>
                    <li>0-10V：光照度传感器、风速传感器</li>
                    <li>可在APP中配置量程映射，直接显示物理量</li>
                </ul>
            </section>

            <!-- Communication -->
            <section id="communication" class="doc-section">
                <h2>通信接口</h2>

                <h3>RS485 Modbus</h3>
                <p>支持RS485 Modbus RTU协议，可作为主机读写从机设备。</p>
                <table class="spec-table">
                    <thead>
                        <tr>
                            <th>参数</th>
                            <th>规格</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>协议</td>
                            <td>Modbus RTU</td>
                        </tr>
                        <tr>
                            <td>波特率</td>
                            <td>1200 - 115200 bps</td>
                        </tr>
                        <tr>
                            <td>最大从机数</td>
                            <td>32个</td>
                        </tr>
                        <tr>
                            <td>功能码支持</td>
                            <td>01H/02H/03H/04H/05H/06H/0FH/10H</td>
                        </tr>
                    </tbody>
                </table>

                <h3>IIC接口</h3>
                <p>用于接入IIC协议的数字传感器。</p>
                <ul class="feature-list">
                    <li>SHT30/SHT40 温湿度传感器</li>
                    <li>BH1750 光照度传感器</li>
                    <li>其他IIC协议传感器（可定制）</li>
                </ul>

                <h3>433MHz无线</h3>
                <p>可选配433MHz无线收发模块。</p>
                <ul class="feature-list">
                    <li>接收：匹配遥控器、门磁、烟感等设备</li>
                    <li>发射：学习并发射遥控器信号</li>
                    <li>通信距离：室内约50米，空旷约200米</li>
                </ul>
            </section>

            <!-- Models Comparison -->
            <section id="models" class="doc-section">
                <h2>型号规格对比</h2>
                <table class="spec-table models-table">
                    <thead>
                        <tr>
                            <th>型号</th>
                            <th>继电器输出</th>
                            <th>PWM输出</th>
                            <th>开关量输入</th>
                            <th>模拟量输入</th>
                            <th>适用场景</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>2路款</strong></td>
                            <td>2路</td>
                            <td>2路</td>
                            <td>2路</td>
                            <td>1路</td>
                            <td>简单控制、DIY项目</td>
                        </tr>
                        <tr>
                            <td><strong>3+2路款</strong></td>
                            <td>3路</td>
                            <td>2路</td>
                            <td>3路</td>
                            <td>2路</td>
                            <td>中型项目、教学实验</td>
                        </tr>
                        <tr>
                            <td><strong>4路款</strong></td>
                            <td>4路</td>
                            <td>4路</td>
                            <td>4路</td>
                            <td>2路</td>
                            <td>通用控制、小型工程</td>
                        </tr>
                        <tr>
                            <td><strong>6+4路款</strong></td>
                            <td>6路</td>
                            <td>4路</td>
                            <td>6路</td>
                            <td>3路</td>
                            <td>复杂场景、工业应用</td>
                        </tr>
                    </tbody>
                </table>

                <div class="cta-box">
                    <p>不确定选择哪个型号？</p>
                    <a href="/zh/compare" class="btn btn-primary"
                        >查看选型指南 →</a
                    >
                </div>
            </section>
        </main>
    </div>

    <!-- 回到顶部按钮 -->
    <button id="back-to-top" class="back-to-top-btn" aria-label="回到顶部">
        <svg
            xmlns="http://www.w3.org/2000/svg"
            width="24"
            height="24"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
        >
            <path d="M18 15l-6-6-6 6"></path>
        </svg>
    </button>
</Layout>

<style>
    :root {
        --primary-rgb: 0, 102, 204;
    }

    /* Screenshot Highlight Area Styles */
    .highlight-area {
        position: absolute;
        border: 3px solid #4ecdc4;
        background: rgba(78, 205, 196, 0.3);
        border-radius: 0.25rem;
        pointer-events: none;
        z-index: 10;
        box-shadow: 0 0 10px rgba(78, 205, 196, 0.5);
    }

    /* Zoom Box Styles */
    .zoom-box {
        position: absolute;
        z-index: 100;
        background: white;
        border-radius: 18px;
        box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
        border: 3px solid #4ecdc4;
        padding: 0.5rem;
    }

    .zoom-box-inline {
        background: white;
        border-radius: 18px;
        box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
        border: 3px solid #4ecdc4;
        padding: 0.5rem;
        width: 30%;
        flex-shrink: 0;
    }

    .zoom-img-container {
        overflow: hidden;
        position: relative;
        width: 100%;
    }

    .zoom-img {
        position: absolute;
        width: 175%;
        height: auto;
        display: block;
        transform: scale(2);
    }

    /* Description Text Styles */
    .desc-text {
        font-size: 0.7rem;
        color: #555;
        line-height: 1.625;
    }

    .desc-text-highlight {
        font-size: 0.7rem;
        color: #4ecdc4;
        font-weight: 700;
    }

    .desc-code {
        font-size: 0.65rem;
        background: #e8f5f3;
        color: #4ecdc4;
        padding: 0.125rem 0.25rem;
        border-radius: 0.25rem;
        font-family: monospace;
    }

    /* Status Indicator Box */
    .status-indicator {
        display: inline-block;
        width: 1rem;
        height: 0.625rem;
        border-radius: 0.125rem;
        vertical-align: middle;
        margin: 0 0.125rem;
    }

    .status-indicator-active {
        background: #4ecdc4;
    }

    .status-indicator-inactive {
        background: white;
        border: 1px solid #d1d5db;
    }

    .page-header {
        background: var(--bg-light);
        color: var(--text-dark);
        padding: 1.25rem 1.5rem;
        text-align: center;
        border-bottom: 1px solid var(--border-light);
    }

    .container {
        max-width: 1200px;
        margin: 0 auto;
    }

    .page-title {
        font-size: 2.5rem;
        font-weight: 700;
        margin: 0 0 1rem;
    }

    .page-subtitle {
        font-size: 1.25rem;
        opacity: 0.9;
        margin: 0;
    }

    .content-wrapper {
        max-width: 1200px;
        margin: 0 auto;
        padding: 3rem 1.5rem;
    }

    /* Main Content */
    .main-content {
        min-width: 0;
    }

    .doc-section {
        margin-bottom: 4rem;
        position: relative;
    }

    /* 确保当前正在交互的章节处于最顶层，防止浮层被后续章节的标题遮挡 */
    .doc-section:has(.interface-marker:hover) {
        z-index: 1000;
    }

    .doc-section h2 {
        font-size: 1.75rem;
        font-weight: 700;
        color: var(--text-dark);
        margin: 0 0 1.5rem;
        padding-bottom: 0.75rem;
        border-bottom: 2px solid var(--primary-light);
    }

    .doc-section h3 {
        font-size: 1.25rem;
        font-weight: 600;
        color: var(--text-dark);
        margin: 2rem 0 1rem;
    }

    .doc-section p {
        color: var(--text-muted);
        line-height: 1.7;
        margin: 0 0 1rem;
    }

    /* Interface Map & Interactive UI */
    .interface-container {
        position: relative;
        z-index: 10;
        margin: 6rem 0 4rem 0; /* 增加顶部间距给上方标签留出空间 */
        padding: 5rem 3rem; /* 增加内边距 */
    }

    .interface-container:hover {
        z-index: 500;
    }

    .interface-map {
        position: relative;
        max-width: 800px;
        margin: 0 auto;
    }

    .interface-map img {
        display: block;
        width: 100%;
        height: auto;
    }

    .interface-marker {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        pointer-events: none;
        z-index: 10;
    }

    .interface-marker:hover {
        z-index: 1000;
    }

    /* SVG Leader Lines */
    .leader-lines-svg {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        z-index: 5;
        pointer-events: none;
        overflow: visible;
    }

    .leader-line-path {
        stroke: var(--primary);
        stroke-width: 1.5px;
        vector-effect: non-scaling-stroke;
        stroke-dasharray: 4 4;
        opacity: 0.4;
        transition: all 0.3s ease;
    }

    .leader-line-path.active {
        stroke-width: 2.5px;
        stroke-dasharray: 0;
        opacity: 1;
        filter: drop-shadow(0 0 3px var(--primary));
    }

    /* Interface Area Styling */
    .interface-area {
        position: absolute;
        background: rgba(var(--primary-rgb), 0.1);
        border: 1.5px dashed rgba(var(--primary-rgb), 0.4);
        border-radius: 4px;
        pointer-events: auto;
        cursor: help;
        transition: all 0.3s ease;
    }

    .interface-area:hover,
    .interface-marker:hover .interface-area {
        background: rgba(var(--primary-rgb), 0.2);
        border: 2.5px solid var(--primary);
        box-shadow: 0 0 10px rgba(var(--primary-rgb), 0.4);
    }

    /* External Labels */
    .external-label {
        position: absolute;
        background: white;
        color: var(--primary);
        border: 1.5px solid var(--primary);
        padding: 4px 16px;
        border-radius: 20px;
        font-size: 0.8rem;
        font-weight: 700;
        white-space: nowrap;
        pointer-events: auto;
        cursor: pointer;
        z-index: 40;
        transform: translate(-50%, -50%);
        box-shadow: 0 4px 12px rgba(var(--primary-rgb), 0.1);
        transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        display: flex;
        align-items: center;
        gap: 8px;
    }

    .port-badge {
        font-size: 0.7rem;
        background: var(--primary-light);
        color: var(--primary);
        padding: 1px 6px;
        border-radius: 4px;
        font-family: monospace;
    }

    .external-label:hover .port-badge,
    .interface-marker:hover .port-badge {
        background: rgba(255, 255, 255, 0.2);
        color: white;
    }

    .external-label:hover,
    .interface-marker:hover .external-label {
        background: var(--primary);
        color: white;
        box-shadow: 0 8px 24px rgba(var(--primary-rgb), 0.4);
    }

    /* Highlight line on hover */
    .interface-marker[data-id]:hover ~ .leader-lines-svg .leader-line-path,
    .interface-area:hover ~ .leader-line-path,
    .external-label:hover ~ .leader-line-path {
        /* CSS alone can't easily target a specific line by id from another sibling context 
           if the line is inside the SVG. We'll use JS if necessary, but for now 
           let's make all lines slightly more visible or use a general rule. */
    }

    .point-tooltip {
        position: absolute;
        width: 650px;
        max-height: 350px; /* 添加最大高度限制 */
        overflow-y: auto; /* 超出高度出现滚动条 */
        background: white;
        color: var(--text-dark);
        padding: 1.5rem;
        border-radius: 12px;
        box-shadow: 0 10px 40px rgba(0, 0, 0, 0.25);
        opacity: 0;
        visibility: hidden;
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        z-index: 1100;
        border: 1px solid var(--border-light);
        white-space: normal;
        font-weight: normal;
    }

    /* 自定义浮层滚动条样式 */
    .point-tooltip::-webkit-scrollbar {
        width: 5px;
    }
    .point-tooltip::-webkit-scrollbar-track {
        background: transparent;
    }
    .point-tooltip::-webkit-scrollbar-thumb {
        background: var(--primary-light);
        border-radius: 10px;
    }
    .point-tooltip::-webkit-scrollbar-thumb:hover {
        background: var(--primary);
    }

    .external-label:hover .point-tooltip,
    .interface-marker:hover .point-tooltip {
        opacity: 1;
        visibility: visible;
    }

    /* Improved Alignment Logic */
    .external-label.align-left .point-tooltip {
        left: 0;
        transform: translateX(0) translateY(0);
    }
    .external-label.align-center .point-tooltip {
        left: 50%;
        transform: translateX(-50%) translateY(0);
    }
    .external-label.align-right .point-tooltip {
        right: 0;
        transform: translateX(0) translateY(0);
    }

    .interface-marker.v-align-up .point-tooltip {
        bottom: 100%;
        margin-bottom: 15px;
    }
    .interface-marker.v-align-down .point-tooltip {
        top: 100%;
        margin-top: 15px;
    }

    /* Hover animation per alignment */
    .interface-marker.v-align-up:hover .external-label .point-tooltip {
        transform: translateX(0) translateY(-10px);
    }
    .interface-marker.v-align-up:hover
        .external-label.align-center
        .point-tooltip {
        transform: translateX(-50%) translateY(-10px);
    }

    .interface-marker.v-align-down:hover .external-label .point-tooltip {
        transform: translateX(0) translateY(10px);
    }
    .interface-marker.v-align-down:hover
        .external-label.align-center
        .point-tooltip {
        transform: translateX(-50%) translateY(10px);
    }

    .point-tooltip h5 {
        margin: 0 0 0.5rem;
        color: var(--primary);
        font-size: 1rem;
        font-weight: 700;
        border: none;
        padding: 0;
    }

    .detail-card h3 {
        margin: 0 0 1.25rem;
        color: var(--primary);
        font-size: 1.125rem;
        font-weight: 700;
        display: flex;
        align-items: center;
        gap: 12px;
    }

    .tooltip-port-row {
        margin-bottom: 1rem;
        padding-bottom: 0.75rem;
        border-bottom: 2px solid var(--primary-light);
        display: flex;
        align-items: center;
    }

    .tooltip-badge {
        font-size: 0.75rem;
        background: var(--primary-light);
        color: var(--primary);
        padding: 4px 12px;
        border-radius: 6px;
        font-family: monospace;
        font-weight: 700;
    }

    .card-badge {
        font-size: 0.8rem;
        background: var(--primary-light);
        color: var(--primary);
        padding: 4px 12px;
        border-radius: 6px;
        font-family: monospace;
        font-weight: 700;
    }

    .tooltip-body {
        text-align: left;
        font-size: 0.85rem;
        color: var(--text-muted);
        line-height: 1.6;
    }

    .detail-full {
        text-align: left;
        font-size: 0.9rem;
        color: var(--text-muted);
        line-height: 1.6;
    }

    .detail-content p {
        margin-bottom: 0.75rem;
        font-size: 0.9rem;
        line-height: 1.5;
    }

    .detail-list {
        padding-left: 1.25rem;
        margin: 0.5rem 0;
    }

    .detail-list li {
        font-size: 0.85rem;
        color: var(--text-muted);
        margin-bottom: 0.25rem;
        list-style-type: disc;
    }

    .detail-grid-inner {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 0.5rem;
        background: var(--bg-light);
        padding: 0.75rem;
        border-radius: 8px;
        margin-top: 0.5rem;
    }

    .inner-item {
        font-size: 0.8rem;
        display: flex;
        flex-direction: column;
    }

    .inner-item strong {
        color: var(--text-dark);
        font-size: 0.75rem;
    }

    /* 使用 :global() 以确保样式能应用到通过 set:html 注入的动态 HTML 中 */
    :global(.group-title) {
        display: block;
        font-size: 0.95rem;
        color: var(--primary);
        margin-bottom: 0.5rem;
        font-weight: 700;
    }

    :global(.config-block) {
        background: var(--bg-light);
        padding: 0.75rem;
        border-radius: 8px;
        border-left: 3px solid var(--primary-light);
    }

    :global(.config-block) p {
        margin-bottom: 0.4rem !important;
        font-size: 0.85rem !important;
    }

    :global(.config-block) p:last-child {
        margin-bottom: 0 !important;
    }

    :global(.config-label) {
        font-weight: 700;
        color: var(--text-dark);
        margin-right: 4px;
    }

    .hint {
        color: #f59e0b !important;
        font-weight: 600;
        font-size: 0.8rem !important;
    }

    /* Wiring examples styling */
    :global(.wiring-examples) {
        display: grid;
        grid-template-columns: repeat(4, 1fr);
        gap: 1rem;
        margin-top: 1.5rem;
    }

    :global(.example-item) {
        display: flex;
        flex-direction: column;
        gap: 0.5rem;
        background: #fdfdfd;
        border-radius: 8px;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
        padding: 8px;
        transition: all 0.3s ease;
        text-align: center;
    }

    :global(.example-title) {
        font-size: 0.75rem;
        font-weight: 700;
        color: var(--text-dark);
        opacity: 0.9;
        margin-bottom: 4px;
    }

    :global(.example-item img) {
        width: 100%;
        height: 120px; /* 统一高度 */
        object-fit: contain;
        border-radius: 4px;
        transition: transform 0.3s ease;
    }

    /* RS485接线图专用样式 - 更宽的宽高比 */
    :global(.example-item-wide) {
        grid-column: span 2; /* 占据2列宽度 */
    }

    :global(.example-item:hover) {
        transform: translateY(-4px);
        box-shadow: 0 8px 24px rgba(var(--primary-rgb), 0.15);
    }

    /* Screenshot Gallery - 可放大的截图画廊 */
    :global(.screenshot-gallery) {
        display: grid;
        grid-template-columns: repeat(4, 1fr);
        gap: 1rem;
        margin-top: 1rem;
    }

    :global(.gallery-item) {
        position: relative;
        background: #fdfdfd;
        border-radius: 8px;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
        padding: 8px;
        overflow: visible;
        cursor: pointer;
        transition: all 0.3s ease;
    }

    :global(.gallery-item img) {
        width: 100%;
        height: auto;
        display: block;
        border-radius: 4px;
        transition: all 0.3s ease;
    }

    :global(.gallery-item:hover) {
        z-index: 1000;
    }

    :global(.gallery-item:hover img) {
        transform: scale(1.5);
        box-shadow: 0 20px 60px rgba(0, 0, 0, 0.4);
        border-radius: 8px;
        position: relative;
        z-index: 1001;
    }

    @media (max-width: 768px) {
        :global(.wiring-examples) {
            grid-template-columns: 1fr;
        }

        :global(.screenshot-gallery) {
            grid-template-columns: repeat(2, 1fr);
        }

        :global(.gallery-item:hover img) {
            transform: scale(2);
        }
    }

    /* Details Grid */
    .details-grid {
        display: grid;
        grid-template-columns: 1fr;
        gap: 0;
        margin-top: 1rem;
    }

    .detail-card {
        background: transparent;
        border: none;
        padding: 2rem 1.5rem;
        margin: 0 -1.5rem;
        transition: all 0.3s ease;
        scroll-margin-top: 100px;
        text-decoration: none;
        display: block;
        border-radius: 8px;
    }

    .detail-card:hover {
        background: rgba(var(--primary-rgb), 0.05);
    }

    .detail-card h3 {
        /* Styles unified above */
    }

    .detail-desc {
        font-weight: 600;
        color: var(--primary) !important;
        margin-bottom: 0.5rem !important;
        font-size: 0.9rem;
    }

    .overview-intro {
        text-align: center;
        max-width: 800px;
        margin: 2rem auto !important;
        font-size: 1.1rem !important;
    }

    /* Fix image centering in diagram */
    .interface-diagram {
        display: none; /* Replaced by interface-container */
    }

    /* Specs Overview */
    .specs-overview {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 1rem;
        margin: 1.5rem 0;
    }

    .spec-item {
        background: var(--bg-light);
        padding: 1rem 1.5rem;
        border-radius: 10px;
        display: flex;
        flex-direction: column;
        gap: 0.25rem;
    }

    .spec-label {
        font-size: 0.875rem;
        color: var(--text-muted);
    }

    .spec-value {
        font-weight: 600;
        color: var(--text-dark);
    }

    /* Info Cards */
    .info-card {
        padding: 1rem 1.5rem;
        border-radius: 10px;
        margin: 1.5rem 0;
    }

    .info-card.warning {
        background: #fff7ed;
        border-left: 4px solid #f97316;
    }

    .info-card h4 {
        margin: 0 0 0.5rem;
        color: #c2410c;
    }

    .info-card p {
        margin: 0;
        color: #9a3412;
    }

    /* Tables */
    .spec-table {
        width: 100%;
        border-collapse: collapse;
        margin: 1rem 0;
        font-size: 0.95rem;
    }

    .spec-table th,
    .spec-table td {
        padding: 0.875rem 1rem;
        text-align: left;
        border-bottom: 1px solid var(--border-light);
    }

    .spec-table th {
        background: var(--bg-light);
        font-weight: 600;
        color: var(--text-dark);
    }

    .spec-table td {
        color: var(--text-muted);
    }

    .models-table td:first-child {
        color: var(--primary);
    }

    /* Feature List */
    .feature-list {
        list-style: none;
        padding: 0;
        margin: 1rem 0;
    }

    .feature-list li {
        padding: 0.5rem 0 0.5rem 1.5rem;
        position: relative;
        color: var(--text-muted);
    }

    .feature-list li::before {
        content: "✓";
        position: absolute;
        left: 0;
        color: var(--primary);
        font-weight: 600;
    }

    /* CTA Box */
    .cta-box {
        background: linear-gradient(135deg, #f0f7ff 0%, #e6f0fa 100%);
        padding: 2rem;
        border-radius: 16px;
        text-align: center;
        margin-top: 2rem;
    }

    .cta-box p {
        font-size: 1.125rem;
        color: var(--text-dark);
        margin: 0 0 1rem;
    }

    .btn {
        display: inline-flex;
        padding: 0.75rem 1.5rem;
        font-weight: 600;
        border-radius: 10px;
        text-decoration: none;
        transition: all 0.2s ease;
    }

    .btn-primary {
        background: linear-gradient(
            135deg,
            var(--primary) 0%,
            var(--primary-dark) 100%
        );
        color: white;
    }

    .btn-primary:hover {
        transform: translateY(-2px);
        color: white;
    }

    .imagecover {
        position: absolute;
        border: 3px solid #4ecdc4;
        background: rgba(78, 205, 196, 0.1);
        border-radius: 0.25rem;
        z-index: 10;
    }

    /* 回到顶部按钮样式 */
    .back-to-top-btn {
        position: fixed;
        bottom: 2rem;
        right: 2rem;
        width: 3rem;
        height: 3rem;
        border-radius: 50%;
        background: linear-gradient(135deg, #0066cc 0%, #0052a3 100%);
        color: white;
        border: none;
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: center;
        box-shadow: 0 4px 12px rgba(0, 102, 204, 0.3);
        opacity: 0;
        visibility: hidden;
        transform: translateY(100px);
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        z-index: 1000;
    }

    .back-to-top-btn.show {
        opacity: 1;
        visibility: visible;
        transform: translateY(0);
    }

    .back-to-top-btn:hover {
        background: linear-gradient(135deg, #0052a3 0%, #003d7a 100%);
        box-shadow: 0 6px 20px rgba(0, 102, 204, 0.4);
        transform: translateY(-3px);
    }

    .back-to-top-btn:active {
        transform: translateY(-1px);
        box-shadow: 0 3px 10px rgba(0, 102, 204, 0.3);
    }

    .back-to-top-btn svg {
        width: 1.5rem;
        height: 1.5rem;
    }

    /* 响应式调整 */
    @media (max-width: 768px) {
        .back-to-top-btn {
            bottom: 1.5rem;
            right: 1.5rem;
            width: 2.5rem;
            height: 2.5rem;
        }

        .back-to-top-btn svg {
            width: 1.25rem;
            height: 1.25rem;
        }
    }
</style>

<script>
    // 回到顶部按钮功能
    document.addEventListener("DOMContentLoaded", () => {
        const backToTopBtn = document.getElementById("back-to-top");

        if (!backToTopBtn) return;

        // 监听滚动事件，控制按钮显示/隐藏
        const toggleButtonVisibility = () => {
            if (window.scrollY > 300) {
                backToTopBtn.classList.add("show");
            } else {
                backToTopBtn.classList.remove("show");
            }
        };

        // 使用节流优化滚动性能
        let scrollTimeout: number | undefined;
        window.addEventListener("scroll", () => {
            if (scrollTimeout) {
                window.cancelAnimationFrame(scrollTimeout);
            }
            scrollTimeout = window.requestAnimationFrame(
                toggleButtonVisibility,
            );
        });

        // 点击按钮平滑滚动到顶部
        backToTopBtn.addEventListener("click", () => {
            window.scrollTo({
                top: 0,
                behavior: "smooth",
            });
        });

        // 初始化检查
        toggleButtonVisibility();
    });
</script>
