---
import Layout from "../../layouts/Layout.astro";

const lang = "zh";

const interfaces = [
    {
        id: "power",
        name: "1、供电接口",
        area: { top: "0%", left: "16.5%", width: "9.8%", height: "15%" },
        labelPos: { top: "5%", left: "0%" },
        align: "left",
        vAlign: "up",
        desc: "支持 DC 7-36V 宽压输入，提供防反接保护。",
        detail: `
            <div class="detail-content">
                <p>主要的电源输入接口，适配常见的工业电源适配器。</p>
                <ul class="detail-list">
                    <li>电压范围：DC 7-36V</li>
                    <li>保护机制：内置防反接、过压保护</li>
                </ul>
            </div>
        `,
    },
    {
        id: "pwm",
        name: "2、PWM输出",
        area: { top: "0%", left: "26.6%", width: "19%", height: "15%" },
        labelPos: { top: "-18%", left: "30%" },
        align: "center",
        vAlign: "up",
        desc: "4路 PWM 输出，用于 LED 调光或电机调速。",
        detail: `
            <div class="detail-content">
                <p>基于 N-MOS 开漏输出，单路支持最高 36V 10A 开关负载。</p>
                <div class="detail-grid-inner">
                    <div class="inner-item"><strong>精度</strong><span>0.01%</span></div>
                    <div class="inner-item"><strong>频率</strong><span>1Hz-100kHz</span></div>
                </div>
            </div>
        `,
    },
    {
        id: "pwmled",
        name: "3、PWM指示灯",
        area: { top: "0%", left: "46.8%", width: "2%", height: "15%" },
        labelPos: { top: "30%", left: "0%" },
        align: "left",
        vAlign: "down",
        desc: "4路 PWM 输出，用于 LED 调光或电机调速。",
        detail: `
            <div class="detail-content">
                <p>基于 N-MOS 开漏输出，单路支持最高 36V 10A 开关负载。</p>
                <div class="detail-grid-inner">
                    <div class="inner-item"><strong>精度</strong><span>0.01%</span></div>
                    <div class="inner-item"><strong>频率</strong><span>1Hz-100kHz</span></div>
                </div>
            </div>
        `,
    },
    {
        id: "usb",
        name: "4、USB供电口",
        area: { top: "0%", left: "49.1%", width: "5%", height: "12%" },
        labelPos: { top: "45%", left: "0%" },
        align: "left",
        vAlign: "down",
        desc: "4路 PWM 输出，用于 LED 调光或电机调速。",
        detail: `
            <div class="detail-content">
                <p>基于 N-MOS 开漏输出，单路支持最高 36V 10A 开关负载。</p>
                <div class="detail-grid-inner">
                    <div class="inner-item"><strong>精度</strong><span>0.01%</span></div>
                    <div class="inner-item"><strong>频率</strong><span>1Hz-100kHz</span></div>
                </div>
            </div>
        `,
    },
    {
        id: "reset",
        name: "5、重置按钮",
        area: { top: "13%", left: "50%", width: "3%", height: "4%" },
        labelPos: { top: "60%", left: "0%" },
        align: "left",
        vAlign: "down",
        desc: "系统硬重启。",
        detail: `
            <div class="detail-content">
                <p>短按：系统硬件复位（重启）。</p>
                <p>长按(5s+)：恢复出厂设置。</p>
            </div>
        `,
    },
    {
        id: "ledrun",
        name: "6、电源/运行/网络指示灯",
        area: { top: "0%", left: "54.2%", width: "2%", height: "15%" },
        labelPos: { top: "75%", left: "0%" },
        align: "left",
        vAlign: "down",
        desc: "电源/运行/网络指示灯",
        detail: `
            <div class="detail-content">
                <p>基于 N-MOS 开漏输出，单路支持最高 36V 10A 开关负载。</p>
                <div class="detail-grid-inner">
                    <div class="inner-item"><strong>精度</strong><span>0.01%</span></div>
                    <div class="inner-item"><strong>频率</strong><span>1Hz-100kHz</span></div>
                </div>
            </div>
        `,
    },
    {
        id: "di",
        name: "7、开关量输入",
        area: { top: "-1%", left: "57.1%", width: "11.4%", height: "18%" },
        labelPos: { top: "-8%", left: "53%" },
        align: "center",
        vAlign: "up",
        desc: "支持干接点及 NPN 传感器。",
        detail: `
            <div class="detail-content">
                <p>光耦隔离输入，最高支持 24V 电平采集。</p>
                <ul class="detail-list">
                    <li>支持高速计数(20kHz)</li>
                    <li>内置上拉电阻</li>
                </ul>
            </div>
        `,
    },
    {
        id: "ai",
        name: "8、模拟量输入",
        area: { top: "-1%", left: "68.3%", width: "5.5%", height: "18%" },
        labelPos: { top: "-18%", left: "73%" },
        align: "right",
        vAlign: "up",
        desc: "4-20mA 或 0-10V 采集。",
        detail: `
            <div class="detail-content">
                <p>集成高精度 ADC 芯片，工业级抗干扰设计。</p>
                <p>可采集压力、液位、温湿度变送器等模拟信号。</p>
            </div>
        `,
    },
    {
        id: "rs485",
        name: "9、RS485/DS18B20",
        area: { top: "-1%", left: "74%", width: "3.5%", height: "18%" },
        labelPos: { top: "35%", left: "100%" },
        align: "right",
        vAlign: "down",
        desc: "RS485、IIC、3V 输出信号。",
        detail: `
            <div class="detail-content">
                <p>支持 Modbus RTU 协议，主从机模式自由切换。</p>
                <p>IIC 接口可接温湿度等数字传感器。</p>
            </div>
        `,
    },
    {
        id: "iic",
        name: "10、IIC接口",
        area: { top: "-1%", left: "77.5%", width: "3.5%", height: "18%" },
        labelPos: { top: "20%", left: "100%" },
        align: "right",
        vAlign: "down",
        desc: "RS485、IIC、3V 输出信号。",
        detail: `
            <div class="detail-content">
                <p>支持 Modbus RTU 协议，主从机模式自由切换。</p>
                <p>IIC 接口可接温湿度等数字传感器。</p>
            </div>
        `,
    },
    {
        id: "dc3v",
        name: "11、3V电源输出",
        area: { top: "-1%", left: "81%", width: "3.5%", height: "18%" },
        labelPos: { top: "-3%", left: "100%" },
        align: "right",
        vAlign: "up",
        desc: "RS485、IIC、3V 输出信号。",
        detail: `
            <div class="detail-content">
                <p>支持 Modbus RTU 协议，主从机模式自由切换。</p>
                <p>IIC 接口可接温湿度等数字传感器。</p>
            </div>
        `,
    },
    {
        id: "relay",
        name: "12、继电器输出",
        area: { top: "85%", left: "15.5%", width: "64%", height: "18%" },
        labelPos: { top: "113%", left: "45%" },
        align: "center",
        vAlign: "down",
        desc: "控制强弱电负载。",
        detail: `
            <div class="detail-content">
                <p>高品质大功率继电器，AC 220V 10A 支持。</p>
            </div>
        `,
    },
    {
        id: "outled",
        name: "13、继电器指示灯",
        area: { top: "85%", left: "79.5%", width: "5%", height: "18%" },
        labelPos: { top: "113%", left: "82%" },
        align: "center",
        vAlign: "down",
        desc: "控制强弱电负载。",
        detail: `
            <div class="detail-content">
                <p>高品质大功率继电器，AC 220V 10A 支持。</p>
            </div>
        `,
    },
];
---

<Layout
    title="硬件接口及电气参数 - 宜启智控Pro"
    description="宜启智控Pro硬件接口详解，包括继电器输出、PWM输出、开关量输入、模拟量输入、RS485 Modbus、IIC等接口规格"
    lang={lang}
>
    <div class="page-header">
        <div class="container">
            <h1 class="page-title">硬件接口及电气参数</h1>
            <p class="page-subtitle">
                了解宜启智控Pro的强大接口能力，满足95%传感器接入需求
            </p>
        </div>
    </div>

    <div class="content-wrapper">
        <main class="main-content">
            <!-- Overview Section -->
            <section id="overview" class="doc-section">
                <h2>接口总览</h2>
                <div class="interface-container">
                    <div class="interface-map" id="hardware-map">
                        <img
                            src="/images/products/6o4wzm.png"
                            alt="宜启智控Pro硬件接口图"
                        />

                        {/* SVG 引线层 */}
                        <svg
                            class="leader-lines-svg"
                            viewBox="0 0 100 100"
                            preserveAspectRatio="none"
                        >
                            {
                                interfaces.map((item) => {
                                    const startX =
                                        parseFloat(item.area.left) +
                                        parseFloat(item.area.width) / 2;
                                    const startY =
                                        parseFloat(item.area.top) +
                                        parseFloat(item.area.height) / 2;
                                    const endX = parseFloat(item.labelPos.left);
                                    const endY = parseFloat(item.labelPos.top);
                                    return (
                                        <line
                                            x1={startX}
                                            y1={startY}
                                            x2={endX}
                                            y2={endY}
                                            class="leader-line-path"
                                            id={`line-${item.id}`}
                                        />
                                    );
                                })
                            }
                        </svg>

                        {/* 交互标注层 */}
                        {
                            interfaces.map((item) => (
                                <div
                                    class={`interface-marker v-align-${item.vAlign || "up"}`}
                                    data-id={item.id}
                                    onmouseenter={`document.getElementById('line-${item.id}').classList.add('active')`}
                                    onmouseleave={`document.getElementById('line-${item.id}').classList.remove('active')`}
                                >
                                    {/* 接口矩形区域 */}
                                    <div
                                        class="interface-area"
                                        style={`top: ${item.area.top}; left: ${item.area.left}; width: ${item.area.width}; height: ${item.area.height};`}
                                    />

                                    {/* 外围标签及浮层 */}
                                    <div
                                        class={`external-label align-${item.align}`}
                                        style={`top: ${item.labelPos.top}; left: ${item.labelPos.left};`}
                                    >
                                        <div class="label-text">
                                            {item.name}
                                        </div>
                                        <div class="point-tooltip">
                                            <h5>{item.name}</h5>
                                            <div
                                                class="tooltip-body"
                                                set:html={item.detail}
                                            />
                                        </div>
                                    </div>
                                </div>
                            ))
                        }
                    </div>
                </div>

                <p class="overview-intro">
                    宜启智控Pro提供丰富的I/O接口，支持多种传感器和执行器接入，是实现自动化控制的理想选择。
                </p>

                <div class="specs-overview">
                    <div class="spec-item">
                        <span class="spec-label">供电电压</span>
                        <span class="spec-value"
                            >DC 7-36V / USB 5V / 可选AC 220V</span
                        >
                    </div>
                    <div class="spec-item">
                        <span class="spec-label">工作温度</span>
                        <span class="spec-value">-20°C ~ 60°C</span>
                    </div>
                    <div class="spec-item">
                        <span class="spec-label">通信方式</span>
                        <span class="spec-value">WiFi / 4G / 蓝牙 (可选)</span>
                    </div>
                </div>
            </section>

            <!-- Detailed Interface List -->
            <section id="interface-details" class="doc-section">
                <h2>接口详细说明</h2>
                <div class="details-grid">
                    {
                        interfaces.map((item) => (
                            <div class="detail-card" id={`detail-${item.id}`}>
                                <h3>{item.name}</h3>
                                <p class="detail-desc">{item.desc}</p>
                                <div
                                    class="detail-full"
                                    set:html={item.detail}
                                />
                            </div>
                        ))
                    }
                </div>
            </section>

            <!-- Relay Output -->
            <section id="relay" class="doc-section">
                <h2>继电器输出</h2>
                <p>
                    继电器输出用于控制照明、水泵、电磁阀、交流接触器等负载设备。
                </p>

                <div class="info-card warning">
                    <h4>⚠️ 安全注意</h4>
                    <p>
                        高压接线请由专业电工操作，确保高低压分离，避免触电风险。
                    </p>
                </div>

                <h3>电气参数</h3>
                <table class="spec-table">
                    <thead>
                        <tr>
                            <th>参数</th>
                            <th>规格</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>最大阻性负载</td>
                            <td>AC 220V 9A / DC 30V 9A</td>
                        </tr>
                        <tr>
                            <td>最大感性负载</td>
                            <td>AC 220V 3A / DC 30V 3A</td>
                        </tr>
                        <tr>
                            <td>触点类型</td>
                            <td>常开(NO) + 公共端(COM)</td>
                        </tr>
                        <tr>
                            <td>继电器寿命</td>
                            <td>>10万次</td>
                        </tr>
                    </tbody>
                </table>

                <h3>接线说明</h3>
                <ul class="feature-list">
                    <li><strong>COM端</strong>：公共端，接电源（火线/正极）</li>
                    <li><strong>NO端</strong>：常开端，接负载</li>
                    <li>大功率负载需外接交流接触器进行扩展</li>
                </ul>
            </section>

            <!-- PWM Output -->
            <section id="pwm" class="doc-section">
                <h2>PWM输出</h2>
                <p>
                    PWM输出用于LED调光、电机调速、步进电机驱动、舵机控制等需要精确控制的场景。
                </p>

                <h3>电气参数</h3>
                <table class="spec-table">
                    <thead>
                        <tr>
                            <th>参数</th>
                            <th>规格</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>输出类型</td>
                            <td>NMOS开漏输出</td>
                        </tr>
                        <tr>
                            <td>最大开关负载</td>
                            <td>DC 36V 10A</td>
                        </tr>
                        <tr>
                            <td>最大PWM负载</td>
                            <td>DC 36V 8A</td>
                        </tr>
                        <tr>
                            <td>占空比范围</td>
                            <td>0-100% (精度0.01%)</td>
                        </tr>
                        <tr>
                            <td>频率范围</td>
                            <td>1Hz - 100kHz</td>
                        </tr>
                    </tbody>
                </table>

                <h3>应用场景</h3>
                <ul class="feature-list">
                    <li><strong>LED调光</strong>：占空比调节实现无级调光</li>
                    <li><strong>电机调速</strong>：配合电机驱动器调节转速</li>
                    <li><strong>步进电机</strong>：脉冲+方向信号精确定位</li>
                    <li><strong>舵机控制</strong>：脉宽调节角度位置</li>
                </ul>
            </section>

            <!-- Digital Input -->
            <section id="digital-input" class="doc-section">
                <h2>开关量输入</h2>
                <p>
                    开关量输入支持无源干接点、有源湿接点、NPN传感器信号及频率/脉冲计数。
                </p>

                <h3>电气参数</h3>
                <table class="spec-table">
                    <thead>
                        <tr>
                            <th>参数</th>
                            <th>规格</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>输入类型</td>
                            <td>干接点 / NPN / 电平信号</td>
                        </tr>
                        <tr>
                            <td>输入电压范围</td>
                            <td>DC 3.3V - 24V</td>
                        </tr>
                        <tr>
                            <td>最大频率采集</td>
                            <td>20kHz</td>
                        </tr>
                        <tr>
                            <td>脉冲计数</td>
                            <td>32位计数器，断电保存</td>
                        </tr>
                    </tbody>
                </table>

                <h3>支持传感器类型</h3>
                <ul class="feature-list">
                    <li>浮球水位开关、行程开关</li>
                    <li>光电开关、接近开关(NPN型)</li>
                    <li>门磁、烟雾报警器</li>
                    <li>流量计脉冲信号</li>
                </ul>
            </section>

            <!-- Analog Input -->
            <section id="analog-input" class="doc-section">
                <h2>模拟量输入</h2>
                <p>模拟量输入支持工业标准的4-20mA电流信号和0-10V电压信号。</p>

                <h3>电气参数</h3>
                <table class="spec-table">
                    <thead>
                        <tr>
                            <th>通道类型</th>
                            <th>输入范围</th>
                            <th>精度</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>电流输入</td>
                            <td>4-20mA</td>
                            <td>12位ADC</td>
                        </tr>
                        <tr>
                            <td>电压输入</td>
                            <td>0-10V</td>
                            <td>12位ADC</td>
                        </tr>
                        <tr>
                            <td>自定义ADC</td>
                            <td>0-1.5V (需分压电阻)</td>
                            <td>12位ADC</td>
                        </tr>
                    </tbody>
                </table>

                <h3>支持传感器</h3>
                <ul class="feature-list">
                    <li>4-20mA：压力传感器、液位传感器、温湿度变送器</li>
                    <li>0-10V：光照度传感器、风速传感器</li>
                    <li>可在APP中配置量程映射，直接显示物理量</li>
                </ul>
            </section>

            <!-- Communication -->
            <section id="communication" class="doc-section">
                <h2>通信接口</h2>

                <h3>RS485 Modbus</h3>
                <p>支持RS485 Modbus RTU协议，可作为主机读写从机设备。</p>
                <table class="spec-table">
                    <thead>
                        <tr>
                            <th>参数</th>
                            <th>规格</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>协议</td>
                            <td>Modbus RTU</td>
                        </tr>
                        <tr>
                            <td>波特率</td>
                            <td>1200 - 115200 bps</td>
                        </tr>
                        <tr>
                            <td>最大从机数</td>
                            <td>32个</td>
                        </tr>
                        <tr>
                            <td>功能码支持</td>
                            <td>01H/02H/03H/04H/05H/06H/0FH/10H</td>
                        </tr>
                    </tbody>
                </table>

                <h3>IIC接口</h3>
                <p>用于接入IIC协议的数字传感器。</p>
                <ul class="feature-list">
                    <li>SHT30/SHT40 温湿度传感器</li>
                    <li>BH1750 光照度传感器</li>
                    <li>其他IIC协议传感器（可定制）</li>
                </ul>

                <h3>433MHz无线</h3>
                <p>可选配433MHz无线收发模块。</p>
                <ul class="feature-list">
                    <li>接收：匹配遥控器、门磁、烟感等设备</li>
                    <li>发射：学习并发射遥控器信号</li>
                    <li>通信距离：室内约50米，空旷约200米</li>
                </ul>
            </section>

            <!-- Models Comparison -->
            <section id="models" class="doc-section">
                <h2>型号规格对比</h2>
                <table class="spec-table models-table">
                    <thead>
                        <tr>
                            <th>型号</th>
                            <th>继电器输出</th>
                            <th>PWM输出</th>
                            <th>开关量输入</th>
                            <th>模拟量输入</th>
                            <th>适用场景</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>2路款</strong></td>
                            <td>2路</td>
                            <td>2路</td>
                            <td>2路</td>
                            <td>1路</td>
                            <td>简单控制、DIY项目</td>
                        </tr>
                        <tr>
                            <td><strong>3+2路款</strong></td>
                            <td>3路</td>
                            <td>2路</td>
                            <td>3路</td>
                            <td>2路</td>
                            <td>中型项目、教学实验</td>
                        </tr>
                        <tr>
                            <td><strong>4路款</strong></td>
                            <td>4路</td>
                            <td>4路</td>
                            <td>4路</td>
                            <td>2路</td>
                            <td>通用控制、小型工程</td>
                        </tr>
                        <tr>
                            <td><strong>6+4路款</strong></td>
                            <td>6路</td>
                            <td>4路</td>
                            <td>6路</td>
                            <td>3路</td>
                            <td>复杂场景、工业应用</td>
                        </tr>
                    </tbody>
                </table>

                <div class="cta-box">
                    <p>不确定选择哪个型号？</p>
                    <a href="/zh/compare" class="btn btn-primary"
                        >查看选型指南 →</a
                    >
                </div>
            </section>
        </main>
    </div>
</Layout>

<style>
    :root {
        --primary-rgb: 0, 102, 204;
    }

    .page-header {
        background: var(--bg-light);
        color: var(--text-dark);
        padding: 1.25rem 1.5rem;
        text-align: center;
        border-bottom: 1px solid var(--border-light);
    }

    .container {
        max-width: 1200px;
        margin: 0 auto;
    }

    .page-title {
        font-size: 2.5rem;
        font-weight: 700;
        margin: 0 0 1rem;
    }

    .page-subtitle {
        font-size: 1.25rem;
        opacity: 0.9;
        margin: 0;
    }

    .content-wrapper {
        max-width: 1200px;
        margin: 0 auto;
        padding: 3rem 1.5rem;
    }

    /* Main Content */
    .main-content {
        min-width: 0;
    }

    .doc-section {
        margin-bottom: 4rem;
        position: relative;
    }

    /* 确保当前正在交互的章节处于最顶层，防止浮层被后续章节的标题遮挡 */
    .doc-section:has(.interface-marker:hover) {
        z-index: 1000;
    }

    .doc-section h2 {
        font-size: 1.75rem;
        font-weight: 700;
        color: var(--text-dark);
        margin: 0 0 1.5rem;
        padding-bottom: 0.75rem;
        border-bottom: 2px solid var(--primary-light);
    }

    .doc-section h3 {
        font-size: 1.25rem;
        font-weight: 600;
        color: var(--text-dark);
        margin: 2rem 0 1rem;
    }

    .doc-section p {
        color: var(--text-muted);
        line-height: 1.7;
        margin: 0 0 1rem;
    }

    /* Interface Map & Interactive UI */
    .interface-container {
        position: relative;
        z-index: 10;
        margin: 4rem 0; /* 增加上下间距给外围标签留空间 */
        padding: 5rem 3rem; /* 增加内边距 */
    }

    .interface-container:hover {
        z-index: 500;
    }

    .interface-map {
        position: relative;
        max-width: 800px;
        margin: 0 auto;
    }

    .interface-map img {
        display: block;
        width: 100%;
        height: auto;
    }

    .interface-marker {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        pointer-events: none;
        z-index: 10;
    }

    .interface-marker:hover {
        z-index: 1000;
    }

    /* SVG Leader Lines */
    .leader-lines-svg {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        z-index: 5;
        pointer-events: none;
        overflow: visible;
    }

    .leader-line-path {
        stroke: var(--primary);
        stroke-width: 1.5px;
        vector-effect: non-scaling-stroke;
        stroke-dasharray: 4 4;
        opacity: 0.4;
        transition: all 0.3s ease;
    }

    .leader-line-path.active {
        stroke-width: 2.5px;
        stroke-dasharray: 0;
        opacity: 1;
        filter: drop-shadow(0 0 3px var(--primary));
    }

    /* Interface Area Styling */
    .interface-area {
        position: absolute;
        background: rgba(var(--primary-rgb), 0.1);
        border: 1.5px dashed rgba(var(--primary-rgb), 0.4);
        border-radius: 4px;
        pointer-events: auto;
        cursor: help;
        transition: all 0.3s ease;
    }

    .interface-area:hover,
    .interface-marker:hover .interface-area {
        background: rgba(var(--primary-rgb), 0.2);
        border: 2.5px solid var(--primary);
        box-shadow: 0 0 10px rgba(var(--primary-rgb), 0.4);
    }

    /* External Labels */
    .external-label {
        position: absolute;
        background: white;
        color: var(--primary);
        border: 1.5px solid var(--primary);
        padding: 4px 16px;
        border-radius: 20px;
        font-size: 0.8rem;
        font-weight: 700;
        white-space: nowrap;
        pointer-events: auto;
        cursor: pointer;
        z-index: 40;
        transform: translate(-50%, -50%);
        box-shadow: 0 4px 12px rgba(var(--primary-rgb), 0.1);
        transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
    }

    .external-label:hover,
    .interface-marker:hover .external-label {
        background: var(--primary);
        color: white;
        transform: translate(-50%, -50%) scale(1.1);
        box-shadow: 0 8px 24px rgba(var(--primary-rgb), 0.4);
    }

    /* Highlight line on hover */
    .interface-marker[data-id]:hover ~ .leader-lines-svg .leader-line-path,
    .interface-area:hover ~ .leader-line-path,
    .external-label:hover ~ .leader-line-path {
        /* CSS alone can't easily target a specific line by id from another sibling context 
           if the line is inside the SVG. We'll use JS if necessary, but for now 
           let's make all lines slightly more visible or use a general rule. */
    }

    .point-tooltip {
        position: absolute;
        width: 320px;
        background: white;
        color: var(--text-dark);
        padding: 1.25rem;
        border-radius: 12px;
        box-shadow: 0 10px 40px rgba(0, 0, 0, 0.25);
        opacity: 0;
        visibility: hidden;
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        z-index: 1100;
        border: 1px solid var(--border-light);
    }

    .external-label:hover .point-tooltip,
    .interface-marker:hover .point-tooltip {
        opacity: 1;
        visibility: visible;
    }

    /* Improved Alignment Logic */
    .external-label.align-left .point-tooltip {
        left: 0;
        transform: translateX(0) translateY(0);
    }
    .external-label.align-center .point-tooltip {
        left: 50%;
        transform: translateX(-50%) translateY(0);
    }
    .external-label.align-right .point-tooltip {
        right: 0;
        transform: translateX(0) translateY(0);
    }

    .interface-marker.v-align-up .point-tooltip {
        bottom: 100%;
        margin-bottom: 15px;
    }
    .interface-marker.v-align-down .point-tooltip {
        top: 100%;
        margin-top: 15px;
    }

    /* Hover animation per alignment */
    .interface-marker.v-align-up:hover .external-label .point-tooltip {
        transform: translateX(0) translateY(-10px);
    }
    .interface-marker.v-align-up:hover
        .external-label.align-center
        .point-tooltip {
        transform: translateX(-50%) translateY(-10px);
    }

    .interface-marker.v-align-down:hover .external-label .point-tooltip {
        transform: translateX(0) translateY(10px);
    }
    .interface-marker.v-align-down:hover
        .external-label.align-center
        .point-tooltip {
        transform: translateX(-50%) translateY(10px);
    }

    .point-tooltip h5 {
        margin: 0 0 0.75rem;
        color: var(--primary);
        font-size: 1.1rem;
        font-weight: 700;
        border-bottom: 2px solid var(--primary-light);
        padding-bottom: 0.5rem;
    }

    .tooltip-body {
        text-align: left;
    }

    .detail-content p {
        margin-bottom: 0.75rem;
        font-size: 0.9rem;
        line-height: 1.5;
    }

    .detail-list {
        padding-left: 1.25rem;
        margin: 0.5rem 0;
    }

    .detail-list li {
        font-size: 0.85rem;
        color: var(--text-muted);
        margin-bottom: 0.25rem;
        list-style-type: disc;
    }

    .detail-grid-inner {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 0.5rem;
        background: var(--bg-light);
        padding: 0.75rem;
        border-radius: 8px;
        margin-top: 0.5rem;
    }

    .inner-item {
        font-size: 0.8rem;
        display: flex;
        flex-direction: column;
    }

    .inner-item strong {
        color: var(--text-dark);
        font-size: 0.75rem;
    }

    .hint {
        color: #f59e0b !important;
        font-weight: 600;
        font-size: 0.8rem !important;
    }

    /* Details Grid */
    .details-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: 1.5rem;
        margin-top: 1.5rem;
    }

    .detail-card {
        background: white;
        border: 1px solid var(--border-light);
        padding: 1.5rem;
        border-radius: 12px;
        transition: all 0.3s ease;
    }

    .detail-card:hover {
        border-color: var(--primary);
        box-shadow: 0 4px 12px rgba(var(--primary-rgb), 0.1);
        transform: translateY(-2px);
    }

    .detail-card h3 {
        margin: 0 0 0.75rem;
        font-size: 1.125rem;
        color: var(--text-dark);
    }

    .detail-desc {
        font-weight: 600;
        color: var(--primary) !important;
        margin-bottom: 0.5rem !important;
        font-size: 0.9rem;
    }

    .detail-full {
        font-size: 0.9rem;
        color: var(--text-muted);
        line-height: 1.6;
    }

    .overview-intro {
        text-align: center;
        max-width: 800px;
        margin: 2rem auto !important;
        font-size: 1.1rem !important;
    }

    /* Fix image centering in diagram */
    .interface-diagram {
        display: none; /* Replaced by interface-container */
    }

    /* Specs Overview */
    .specs-overview {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 1rem;
        margin: 1.5rem 0;
    }

    .spec-item {
        background: var(--bg-light);
        padding: 1rem 1.5rem;
        border-radius: 10px;
        display: flex;
        flex-direction: column;
        gap: 0.25rem;
    }

    .spec-label {
        font-size: 0.875rem;
        color: var(--text-muted);
    }

    .spec-value {
        font-weight: 600;
        color: var(--text-dark);
    }

    /* Info Cards */
    .info-card {
        padding: 1rem 1.5rem;
        border-radius: 10px;
        margin: 1.5rem 0;
    }

    .info-card.warning {
        background: #fff7ed;
        border-left: 4px solid #f97316;
    }

    .info-card h4 {
        margin: 0 0 0.5rem;
        color: #c2410c;
    }

    .info-card p {
        margin: 0;
        color: #9a3412;
    }

    /* Tables */
    .spec-table {
        width: 100%;
        border-collapse: collapse;
        margin: 1rem 0;
        font-size: 0.95rem;
    }

    .spec-table th,
    .spec-table td {
        padding: 0.875rem 1rem;
        text-align: left;
        border-bottom: 1px solid var(--border-light);
    }

    .spec-table th {
        background: var(--bg-light);
        font-weight: 600;
        color: var(--text-dark);
    }

    .spec-table td {
        color: var(--text-muted);
    }

    .models-table td:first-child {
        color: var(--primary);
    }

    /* Feature List */
    .feature-list {
        list-style: none;
        padding: 0;
        margin: 1rem 0;
    }

    .feature-list li {
        padding: 0.5rem 0 0.5rem 1.5rem;
        position: relative;
        color: var(--text-muted);
    }

    .feature-list li::before {
        content: "✓";
        position: absolute;
        left: 0;
        color: var(--primary);
        font-weight: 600;
    }

    /* CTA Box */
    .cta-box {
        background: linear-gradient(135deg, #f0f7ff 0%, #e6f0fa 100%);
        padding: 2rem;
        border-radius: 16px;
        text-align: center;
        margin-top: 2rem;
    }

    .cta-box p {
        font-size: 1.125rem;
        color: var(--text-dark);
        margin: 0 0 1rem;
    }

    .btn {
        display: inline-flex;
        padding: 0.75rem 1.5rem;
        font-weight: 600;
        border-radius: 10px;
        text-decoration: none;
        transition: all 0.2s ease;
    }

    .btn-primary {
        background: linear-gradient(
            135deg,
            var(--primary) 0%,
            var(--primary-dark) 100%
        );
        color: white;
    }

    .btn-primary:hover {
        transform: translateY(-2px);
        color: white;
    }
</style>
