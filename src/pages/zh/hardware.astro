---
import Layout from "../../layouts/Layout.astro";

const lang = "zh";

const interfaces = [
    {
        id: "power",
        name: "1、供电接口",
        labelName: "·L/36V ·N/GND ·5V ·GND",
        area: { top: "0%", left: "16.5%", width: "9.8%", height: "15%" },
        labelPos: { top: "5%", left: "0%" },
        align: "left",
        vAlign: "up",
        detail: `
            <div class="detail-content">
                <div class="power-group">
                    <strong class="group-title">· L/36V · N/GND 端口</strong>
                    <div class="config-block">
                        <p><span class="config-label">交流版 (选配):</span> 接入交流 AC 70-270V (47-63Hz) 或 直流 DC 100-380V。不区分零火线。</p>
                        <p><span class="config-label">直流宽电压版 (选配):</span> 支持直流 DC 9-60V (功率 >9W)。L/36V 端接正极，N/GND 端接负极。</p>
                        <p><span class="config-label">直流 5V 标配版:</span> 此端口无效。</p>
                    </div>
                </div>
                <div class="power-group">
                    <strong class="group-title">· 5V · GND 端口</strong>
                    <div class="config-block">
                        <p><span class="config-label">输入模式:</span> 标配直流 5V 版使用。直流 5V (电流 >1A)，GND 接负极。</p>
                        <p><span class="config-label">输出模式:</span> AC / 宽压版此端口输出 5V (电流 <100mA)，可为小功率传感器供电。</p>
                    </div>
                </div>
                <strong class="group-title"><br/>· 接线示例：</strong>
                <div class="wiring-examples">
                    <div class="example-item example-item-wide">
                        <img src="/images/pwrdc.jpg" alt="直流宽电压供电" loading="lazy" />
                        <span class="example-title">直流宽电压DC 9-60V供电</span>
                    </div>
                    <div class="example-item example-item-wide">
                        <img src="/images/pwrac.jpg" alt="交流AC供电" loading="lazy" />
                        <span class="example-title">交流AC220/交流AC110V供电</span>
                    </div>
                </div>
                <div class="wiring-examples">
                    <div class="example-item example-item-wide">
                        <img src="/images/pwr5v.jpg" alt="5V供电" loading="lazy" />
                        <span class="example-title">5V供电</span>
                    </div>
                </div>
            </div>
        `,
    },
    {
        id: "pwm",
        name: "2、PWM输出",
        labelName: "·P4 ·G4 ·P3 ·G3 ·P2 ·G2 ·P1 ·G1",
        area: { top: "0%", left: "26.6%", width: "19%", height: "15%" },
        labelPos: { top: "-18%", left: "30%" },
        align: "center",
        vAlign: "up",
        detail: `
            <div class="detail-content">
                <div class="power-group">
                    <strong class="group-title">· 标准 PWM</strong>
                    <div class="config-block">
                        <p>采用 N-MOS 开漏输出，Pn 端口上拉 DC 5V。支持频率控制：0.025Hz ~ 150kHz，占空比控制：0.00% ~ 100.00%，支持线性加减速控制。</p>
                        <p><span class="config-label">端口定义:</span> ·Pn 表示 PWM 输出正极，·Gn 表示负极 (GND)。</p>
                        <p><span class="config-label">负载能力:</span> 单路支持最高 DC 36V 10A 开关负载或 DC 36V 8A PWM 负载。</p>
                        <p><span class="config-label">常用于控制:</span> 直流电机调速、步进/伺服电机脉冲控制、舵机角度、灯光亮度调节、变频器频率、阀门开度等。</p>
                    </div>
                    <div class="power-group">
                        <strong class="group-title">· 接线示例</strong>
                    </div>
                    <div class="wiring-examples">
                        <div class="example-item example-item-wide">
                            <img src="/images/pwm_in_pcb.jpg" alt="PWM接口内部简化电路图" loading="lazy" />
                            <span class="example-title">PWM接口内部简化电路图</span>
                        </div>
                        <div class="example-item example-item-wide">
                            <img src="/images/pwm_led.jpg" alt="LED灯明亮/直流电机快慢控制" loading="lazy" />
                            <span class="example-title">LED灯明亮/直流电机快慢控制</span>
                        </div>
                    </div>
                    <div class="wiring-examples">
                        <div class="example-item example-item-wide">
                            <img src="/images/pwm_steper.jpg" alt="步进电机速度控制" loading="lazy" />
                            <span class="example-title">步进电机速度控制</span>
                        </div>
                        <div class="example-item example-item-wide">
                            <img src="/images/pwm_steper2.jpg" alt="舵机角度控制" loading="lazy" />
                            <span class="example-title">舵机角度控制</span>
                        </div>
                    </div>
                </div>
                <div class="power-group">
                    <strong class="group-title">2.2、0-10V 信号输出(定制)</strong>
                    <div class="config-block">
                        <p>Pn 为输出电压正极，Gn 为电压负极，最大负载电流为 10mA。</p>
                    </div>
                    <div class="wiring-examples">
                        <div class="example-item example-item-wide">
                            <img src="/images/pwm_10v.jpg" alt="0-10V控制变频器 接线示例" loading="lazy" />
                            <span class="example-title">0-10V控制变频器 接线示例</span>
                        </div>
                    </div>
                </div>
                <div class="power-group">
                    <strong class="group-title">2.3、0-20mA 信号输出(定制)</strong>
                    <div class="config-block">
                        <p>Pn 为电流输出端口，Gn 为电流输入端口。</p>
                    </div>
                    <div class="wiring-examples">
                        <div class="example-item example-item-wide">
                            <img src="/images/pwm_20ma.jpg" alt="0-20mA设备控制 接线示例" loading="lazy" />
                            <span class="example-title">0-20mA设备控制 接线示例</span>
                        </div>
                    </div>
                </div>
            </div>
        `,
    },
    {
        id: "pwmled",
        name: "3、PWM指示灯",
        labelName: "·P1 ·P2 ·P3 ·P4",
        area: { top: "0%", left: "46.8%", width: "2%", height: "15%" },
        labelPos: { top: "30%", left: "0%" },
        align: "left",
        vAlign: "down",
        detail: `
            <div class="detail-content">
                <p>实时显示 PWM1~4通道的输出状态。可观察开关和明暗状态。<br />·P1表示PWM1通道的输出状态，P2表示PWM2通道的输出状态，依此类推。</p>
            </div>
        `,
    },
    {
        id: "usb",
        name: "4、USB供电口",
        labelName: "·USB供电",
        area: { top: "0%", left: "49.1%", width: "5%", height: "12%" },
        labelPos: { top: "45%", left: "0%" },
        align: "left",
        vAlign: "down",
        detail: `
            <div class="detail-content">
                <p>Micro USB (旧版) / Type-C (新版) 接口，用于便捷地为设备提供 5V 供电，要求电流大于 1.5A。<br /> <span class="hint">注意：请选用优质线材，以免因线阻过大导致压降过高，造成设备供电不足而无法正常工作。</span></p>
            </div>
        `,
    },
    {
        id: "reset",
        name: "5、重置按钮",
        labelName: "·重启/重置 RST",
        area: { top: "13%", left: "50%", width: "3%", height: "4%" },
        labelPos: { top: "60%", left: "0%" },
        align: "left",
        vAlign: "down",
        detail: `
            <div class="detail-content">
                <div class="power-group">
                    <strong class="group-title">· 重启：短按 1 次</strong>
                    <div class="config-block">
                        <p>设备断电重启。</p>
                    </div>
                </div>
        
                <div class="power-group">
                    <strong class="group-title">· 重置：连续短按 7 次</strong>
                    <div class="config-block">
                        <p><span class="config-label">操作方法:</span> 连续短按 7 次：每次按下 1 秒，松开 1 秒。</p>
                        <p><span class="config-label">功能:</span> 恢复出厂设置，清除所有用户配置，设备恢复至出厂默认状态。</p>
                        <p class="hint">⚠️ 请谨慎操作此功能</p>
                    </div>
                </div>
        
                <div class="power-group">
                    <strong class="group-title">· APP 操作</strong>
                    <div class="config-block">
                        <p>在“源来智能”APP 中，进入设备详情页，在“设置”界面中可点击“重置”或“重启”按钮进行操作。</p>
                    </div>
                </div>
            </div>
        `,
    },
    {
        id: "ledrun",
        name: "6、电源/运行/网络指示灯",
        labelName: "·电源 ·运行 ·网络",
        area: { top: "0%", left: "54.2%", width: "2%", height: "15%" },
        labelPos: { top: "75%", left: "0%" },
        align: "left",
        vAlign: "down",
        detail: `
            <div class="detail-content">
                <div class="power-group">
                    <strong class="group-title">· 电源指示 (PWR)</strong>
                    <div class="config-block">
                        <p>常亮表示设备供电正常。</p>
                    </div>
                </div>

                <div class="power-group">
                    <strong class="group-title">· 运行状态 (RUN)</strong>
                    <div class="config-block">
                        <p><span class="config-label">慢闪 (2秒/次):</span> 系统运行正常。</p>
                        <p><span class="config-label">快闪 (0.5秒/次):</span> 蓝牙连接中 (APP 交互中)。</p>
                        <p><span class="config-label">双闪 (每2秒快闪2次):</span> MQTT 版网络连接成功。</p>
                        <p><span class="config-label">常亮/常灭:</span> 运行异常，请尝试重新上电；若依旧异常，可能为硬件故障。</p>
                    </div>
                </div>

                <div class="power-group">
                    <strong class="group-title">· 网络状态 (NET)</strong>
                    <div class="config-block">
                        <p><span class="config-label">涂鸦 WIFI 版:</span> 快闪=待配网；常亮=已联网；常灭=联网失败/连接中。</p>
                        <p><span class="config-label">涂鸦 4G 版 / 4G MQTT 版:</span> 慢闪=已连接基站；常灭=搜索中或网络异常。</p>
                        <p><span class="config-label">WIFI MQTT 版:</span> 预留 (无实际功能)。</p>
                    </div>
                </div>
            </div>
        `,
    },
    {
        id: "di",
        name: "7、开关量/NPN/频率/脉冲输入",
        labelName: "·输入1 ·输入2 ·输入3 ·输入4 ·输入5 ·输入6",
        area: { top: "-1%", left: "57.1%", width: "11.4%", height: "18%" },
        labelPos: { top: "-8%", left: "53%" },
        align: "center",
        vAlign: "up",
        detail: `
            <div class="detail-content">
                <div class="power-group">
                    <strong class="group-title">· 信号类型</strong>
                    <div class="config-block">
                        <p>支持开关量、NPN、频率、脉冲等多种信号输入。</p>
                        <p><span class="config-label">信号特性:</span> 低电平 / 负极 / GND 信号有效。</p>
                        <p><span class="config-label">高速计数:</span> 支持 20kHz 频率输入。</p>
                        <p><span class="config-label">耐压能力:</span> 输入端口耐压 1KV。</p>
                    </div>
                </div>

                <div class="power-group" style="margin-top: 1rem;">
                    <strong class="group-title">· 支持设备</strong>
                    <div class="config-block">
                        <p>继电器、按钮、开关、人体传感器、限位开关、光电开关、磁性开关、水位开关、接近开关、红外对射传感器等。</p>
                    </div>
                </div>

                <div class="power-group" style="margin-top: 1rem;">
                    <strong class="group-title">· 接线示例</strong>
                </div>
                <div class="wiring-examples">
                    <div class="example-item example-item-wide">
                        <img src="/images/input_btn.jpg" alt="开关/按钮 接线示例" loading="lazy" />
                        <span class="example-title">开关/按钮 接线示例</span>
                    </div>
                    <div class="example-item example-item-wide">
                        <img src="/images/input_npn.jpg" alt="NPN信号传感器 接线示例" loading="lazy" />
                        <span class="example-title">NPN信号传感器 接线示例</span>
                    </div>
                </div>
                <div class="wiring-examples">
                    <div class="example-item example-item-wide">
                        <img src="/images/input_reply.jpg" alt="继电器作为输入 接线示例" loading="lazy" />
                        <span class="example-title">继电器作为输入 接线示例</span>
                    </div>
                </div>
                <div class="power-group mt-4">
                    <strong class="group-title">· APP中查看输入状态</strong>
                    <div class="params-flex">
                        <!-- 图片容器 -->
                        <div class="screenshot-thumb">
                            <img src="/images/screenshot/params.jpg" alt="开关量输入状态" loading="lazy" 
                                 style="width: 100%; height: auto; display: block; border-radius: 0.75rem; box-shadow: 0 4px 6px -1px rgba(0,0,0,0.1);" />
                            <!-- 高亮区域 -->
                            <div class="highlight-box" style="top: 92%; left: 30%; width: 23%; height: 8%;"></div>
                            <div class="highlight-box" style="top: 12%; left: 54%; width: 26%; height: 6%;"></div>
                            <div class="highlight-box" style="top: 19%; left: 43%; width: 57%; height: 13%;"></div>
                        </div>
                        <!-- 局部放大图 -->
                        <div class="zoom-detail-card">
                            <div class="zoom-viewport" style="aspect-ratio: 50 / 25;">
                                <img src="/images/screenshot/params.jpg" alt="输入状态局部放大" loading="lazy" class="zoom-image"
                                     style="top: 23%; left: -39%; transform: scale(1.8);" />
                            </div>
                            <div class="mt-2 py-1 text-center">
                                <div class="text-left bg-gray-50 p-2 px-3 rounded-md mt-2">
                                    <div class="mb-1.5">
                                        <span class="desc-text">1. 此区域可以左右滑动，查看更多输入状态。</span>
                                    </div>
                                    <div class="mb-1.5">
                                        <span class="desc-text-highlight">2. </span>
                                        <span class="desc-text">以第三块输入状态为例，内容 </span>
                                        <code class="desc-code">"3~0 2546"</code>
                                        <span class="desc-text"> 表示输入 3，当前频率为 0Hz，累计脉冲数 2546 个。</span>
                                    </div>
                                    <div class="mb-0">
                                        <span class="desc-text-highlight">3. </span>
                                        <span class="desc-text">状态指示颜色：</span>

                                        <span class="status-dot active"></span>
                                        <span class="desc-text"> 蓝色表示"激活" (有信号)，</span>
                                        <span class="status-dot inactive"></span>
                                        <span class="desc-text"> 白色表示"静默" (无信号)。</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        `,
    },
    {
        id: "ai",
        name: "8、模拟量输入",
        labelName: "·模拟1 ·模拟2 ·模拟3",
        area: { top: "-1%", left: "68.3%", width: "5.5%", height: "18%" },
        labelPos: { top: "-18%", left: "73%" },
        align: "right",
        vAlign: "up",
        detail: `
            <div class="detail-content">
                <div class="power-group">
                    <strong class="group-title">· 信号类型</strong>
                    <div class="config-block">
                        <p>支持 0-20mA / 0-10V / 自定义 ADC 等多种模拟量信号接入。</p>
                        <p><span class="config-label">适用设备:</span> 液位变送器、压力变送器、电流变送器、温度变送器、位移传感器、风速传感器等。</p>
                    </div>
                </div>
        
                <div class="power-group" style="margin-top: 1rem;">
                    <strong class="group-title">· 挡位支持的参数范围信号输入</strong>
                    <div class="config-block">
                        <p><span class="config-label">0-20mA 挡位:</span> 支持 0-20mA, 4-20mA, 0-40mA(新版硬件)</p>
                        <p><span class="config-label">0-10V 挡位:</span> 支持 0-10V, 0-5V, 1-10V, 0-24V(新版硬件)</p>
                        <p><span class="config-label">自定义ADC 挡位:</span> 支持 0-1.5V, 0-3V(新版硬件)电压采样</p>
                    </div>
                </div>
        
                <div class="power-group" style="margin-top: 1rem;">
                    <strong class="group-title">· 挡位切换 (物理操作)</strong>
                    <div class="config-block">
                        <p>设备顶部侧面设有三档拨动开关，用于切换不同信号类型。</p>
                        <p><span class="config-label">如图所示:</span> 模拟量 1 为自定义 ADC 挡位，模拟量 2 为 0-10V 挡位，模拟量 3 为 0-20mA 挡位。</p>
                        <img src="/images/adc.jpg" alt="模拟量挡位切换示例" loading="lazy" style="width: 100%; max-width: 500px; margin-top: 1rem; border-radius: 8px; box-shadow: 0 4px 12px rgba(0,0,0,0.1);" />
                    </div>
                </div>
                <div class="power-group" style="margin-top: 1rem;">
                    <strong class="group-title">· 接线示例</strong>
                </div>
                <div class="wiring-examples">
                    <div class="example-item example-item-wide">
                        <img src="/images/adc2.jpg" alt="2线制4-20mA传感器" loading="lazy" />
                        <span class="example-title">2线制4-20mA传感器 接线示例</span>
                    </div>
                    <div class="example-item example-item-wide">
                        <img src="/images/adc3.jpg" alt="3线制4-20mA或0-10V传感器" loading="lazy" />
                        <span class="example-title">3线制4-20mA或0-10V传感器</span>
                    </div>
                </div>
                <div class="wiring-examples">
                    <div class="example-item example-item-wide">
                        <img src="/images/adc4.jpg" alt="4线制4-20mA传感器" loading="lazy" />
                        <span class="example-title">4线制4-20mA传感器</span>
                    </div>
                    <div class="example-item example-item-wide">
                        <img src="/images/adc1_5.jpg" alt="检测48V电池电压(自定义ADC)" loading="lazy" />
                        <span class="example-title">检测48V电池电压(自定义ADC)-电阻分压到1.5V</span>
                    </div>
                </div>
                <div class="power-group mt-4">
                    <strong class="group-title">· APP中查看输入状态</strong>
                    <div class="params-flex">
                        <!-- 图片容器 -->
                        <div class="screenshot-thumb">
                            <img src="/images/screenshot/params.jpg" alt="开关量输入状态" loading="lazy" 
                                 style="width: 100%; height: auto; display: block; border-radius: 0.75rem; box-shadow: 0 4px 6px -1px rgba(0,0,0,0.1);" />
                            <!-- 高亮区域 -->
                            <div class="highlight-box" style="top: 92%; left: 30%; width: 23%; height: 8%;"></div>
                            <div class="highlight-box" style="top: 12%; left: 54%; width: 26%; height: 6%;"></div>
                            <div class="highlight-box" style="top: 53%; left: 1%; width: 98%; height: 15%;"></div>
                        </div>
                        <!-- 局部放大图 -->
                        <div class="zoom-detail-card">
                            <div class="zoom-viewport" style="aspect-ratio: 50 / 15;">
                                <img src="/images/screenshot/params.jpg" alt="模拟量状态局部放大" loading="lazy" class="zoom-image"
                                     style="top: -400%; left: 0%" />
                            </div>
                            <div class="mt-2 py-1 text-center">
                                <div class="text-left bg-gray-50 p-2 px-3 rounded-md mt-2">
                                    <div class="desc-text">1. 此区域有三列数据，分别对应模拟量输入 1 ~ 3。</div>
                                    <div class="desc-text">2. 以第一列数据 (模拟量 1) 为例，内容："14.74 0.74V" 表示模拟量 1 的换算值 (工程量) 为 14.74，原始电压值为 0.74V。</div>
                                    <div class="desc-text">3. 点击每列右边的“齿轮”图标，可进入对应的参数设置界面 (如右图)。</div>
                                    <div class="desc-text">4. <span class="hint">注意：APP 中的“模式”设置需与设备上的物理拨动开关挡位保持一致。</span></div>
                                </div>
                            </div>
                        </div>
                        <div class="screenshot-thumb">
                            <img src="/images/adc_setting.jpg" alt="模拟量输入参数设置" loading="lazy" 
                                 style="width: 100%; height: auto; display: block; border-radius: 0.75rem; box-shadow: 0 4px 6px -1px rgba(0,0,0,0.1);" />
                        </div>
                    </div>
                </div>
            </div>
        `,
    },
    {
        id: "rs485",
        name: "9、RS485/温度",
        labelName: "·485B- ·A+/温度",
        area: { top: "-1%", left: "74%", width: "3.5%", height: "18%" },
        labelPos: { top: "35%", left: "100%" },
        align: "right",
        vAlign: "down",
        detail: `
            <div class="detail-content">
                <div class="power-group">
                    <strong class="group-title">· A+/温度 端口</strong>
                    <div class="config-block">
                        <p><span class="config-label">默认功能:</span> 支持 DS18B20 温度传感器，读取值对应 APP 中的 "温度1"。</p>
                        <p><span class="config-label">注意事项:</span> 传感器线长建议 ≤2 米，过长易受干扰导致读取失败。</p>
                        <p><span class="config-label">选配 RS485 时:</span> 此端口作为 RS485 A+ 端口，DS18B20 功能不可用。</p>
                        <div class="wiring-examples">
                            <div class="example-item example-item-wide">
                                <img src="/images/ds18b20.jpg" alt="DS18B20温度传感器" loading="lazy" />
                                <span class="example-title">DS18B20 温度传感器 接线示例</span>
                            </div>
                        </div>
                    </div>
                    
                </div>
       
                <div class="power-group mt-4">
                    <strong class="group-title">· RS485 Modbus RTU (选配)</strong>
                    <div class="config-block">
                        <p>宜启智控作为 RS485 主站 (Master)，支持读取和控制各类 RS485 从站 (Slave) 设备。</p>
                        <p><span class="config-label">协议标准:</span> Modbus RTU</p>
                        <p><span class="config-label">波特率:</span> 1200 ~ 38400bps，数据位：8，停止位：1，校验位：无</p>
                        <p><span class="config-label">读取功能码:</span> 01H, 02H, 03H, 04H</p>
                        <p><span class="config-label">写入功能码:</span> 05H, 06H, 0FH, 10H</p>
                        <p><span class="config-label">设备容量:</span> 最多支持 16 个从站。支持读取 32 个数据寄存器和 32 个状态位 (线圈/离散)。</p>
                        <p><span class="config-label">读取周期:</span> 每 0.5 秒自动循环读取。</p>
                        <p><span class="config-label">从机地址:</span> 支持地址范围 1 ~ 31。</p>
                        <p><span class="config-label">支持设备:</span> PLC、工控触摸屏、智能电表、气象站、继电器模块、伺服电机、变频器、PH 传感器、溶解氧传感器等。</p>
                        <p><span class="config-label">正确接线示例:</span></p>
                        <div class="wiring-examples">
                            <div class="example-item example-item-wide">
                                <img src="/images/rs485_1.jpg" alt="单个RS485设备接线示例" loading="lazy" />
                                <span class="example-title">单个RS485设备接线示例</span>
                            </div>
                            <div class="example-item example-item-wide">
                                <img src="/images/rs485_n.jpg" alt="多个RS485设备接线示例" loading="lazy" />
                                <span class="example-title">多个 RS485 设备 — 手牵手 (总线型) 接线 (正确)</span>
                            </div>
                        </div>
                        <p><span class="config-label"><br/>不建议(容易受干扰)接线示例:</span></p>
                        <div class="wiring-examples">
                            <div class="example-item example-item-wide">
                                <img src="/images/rs485_ne1.jpg" alt="多个RS485设备接线示例" loading="lazy" />
                                <span class="example-title">多个RS485设备-T型接线（不建议，容易受干扰）</span>
                            </div>
                            <div class="example-item example-item-wide">
                                <img src="/images/rs485_ne2.jpg" alt="多个RS485设备接线示例" loading="lazy" />
                                <span class="example-title">多个RS485设备-星型接线（不建议，容易受干扰）</span>
                            </div>
                        </div>
                        <p><span class="config-label"><br/>App中RS485相关界面:</span></p>
                        <div class="screenshot-gallery">
                            <div class="gallery-item">
                                <img src="/images/rs485s1.jpg" alt="RS485设备配置界面" loading="lazy" />
                            </div>
                            <div class="gallery-item">
                                <img src="/images/rs485s2.jpg" alt="RS485数据读取界面" loading="lazy" />
                            </div>
                            <div class="gallery-item">
                                <img src="/images/rs485s3.jpg" alt="RS485参数设置" loading="lazy" />
                            </div>
                            <div class="gallery-item">
                                <img src="/images/rs485s4.jpg" alt="RS485状态监控" loading="lazy" />
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        `,
    },
    {
        id: "iic",
        name: "10、IIC接口",
        labelName: "·SCL ·SDA",
        area: { top: "-1%", left: "77.5%", width: "3.5%", height: "18%" },
        labelPos: { top: "20%", left: "100%" },
        align: "right",
        vAlign: "down",
        detail: `
            <div class="detail-content">
                <p>支持 IIC 设备读写。内置 SHT30 温湿度传感器和光照度传感器协议解析，即插即用。
                <br/>IIC 通信电平为 3.3V。
                <br/>SHT30 检测的温度值对应 APP 中的“温度2”。
                <br/>光照度数据默认对应 APP 中的“计数器8”。</p>
                <div class="power-group mt-4">
                    <strong class="group-title">· 接线示例</strong>
                </div>
                <div class="wiring-examples">
                    <div class="example-item example-item-wide">
                        <img src="/images/iict.jpg" alt="SHT30温湿度传感器" loading="lazy" />
                        <span class="example-title">SHT30温湿度传感器</span>
                    </div>
                    <div class="example-item example-item-wide">
                        <img src="/images/iicl.jpg" alt="光照度传感器" loading="lazy" />
                        <span class="example-title">光照度传感器</span>
                    </div>
                </div>
                <div class="wiring-examples">
                    <div class="example-item example-item-wide">
                        <img src="/images/iicn.jpg" alt="多路IIC传感器" loading="lazy" />
                        <span class="example-title">多路IIC传感器</span>
                    </div>
                </div>
                <div class="power-group mt-4">
                    <strong class="group-title">· App中IIC相关界面:</strong>
                </div>
                <div class="screenshot-gallery">
                    <div class="gallery-item">
                        <img src="/images/screenshot/params.jpg" alt="IIC设备参数界面" loading="lazy" />
                        <div class="highlight-box" style="top: 92%; left: 30%; width: 23%; height: 8%;"></div>
                        <div class="highlight-box" style="top: 12%; left: 54%; width: 26%; height: 6%;"></div>
                        <div class="highlight-box" style="top: 31%; left: 2%; width: 41%; height: 11%;"></div>
                        <div class="highlight-box" style="top: 46.5%; left: 16.5%; width: 12%; height: 7%;"></div>
                        <div class="highlight-box" style="top: 41%; left: 44%; width: 55%; height: 13%;"></div>
                    </div>
                    <div class="gallery-item">
                        <img src="/images/iics1.jpg" alt="IIC数据读取界面" loading="lazy" />
                    </div>
                    <div class="gallery-item">
                        <img src="/images/iics2.jpg" alt="IIC数据写入界面" loading="lazy" />
                    </div>
                </div>
            </div>
        `,
    },
    {
        id: "dc3v",
        name: "11、3V电源输出",
        labelName: "·公共地 ·3V输出",
        area: { top: "-1%", left: "81%", width: "3.5%", height: "18%" },
        labelPos: { top: "-3%", left: "100%" },
        align: "right",
        vAlign: "up",
        detail: `
            <div class="detail-content">
                <p>为小功率传感器提供直流 3V 供电。最大负载电流 30mA。<br/>"·3V输出" 端为正极，"·公共地" 端为负极。</p>
                <div class="wiring-examples">
                    <div class="example-item example-item-wide">
                        <img src="/images/o3v.jpg" alt="直流3V输出" loading="lazy" />
                        <span class="example-title">直流3V输出</span>
                    </div>
                </div>
            </div>
        `,
    },
    {
        id: "relay",
        name: "12、继电器/开关 输出",
        labelName: "·常开1 ·公共1 ·常闭1 ... ·常开6 ·公共6 ·常闭6",
        area: { top: "85%", left: "15.5%", width: "64%", height: "18%" },
        labelPos: { top: "113%", left: "45%" },
        align: "center",
        vAlign: "down",
        detail: `
            <div class="detail-content">
                <div class="power-group">
                    <strong class="group-title">· 继电器输出定义</strong>
                    <div class="config-block">
                        <p>继电器是一种电控开关，用于控制电路的通断 (导通或断开)。它属于无源干节点输出。</p>
                        <p>可直接控制交流 230V 以内或直流 30V 以内的负载设备。</p>
                        <p><span class="config-label">常用于控制:</span> 照明灯具、水泵、电磁阀、交流接触器、排气扇、风机、控制柜按钮、直流电机等。</p>
                    </div>
                </div>

                <div class="power-group mt-4">
                    <strong class="group-title">· 每个继电器有三个端口：</strong>
                    <div class="config-block">
                        <div class="relay-port-legend">
                            <div class="relay-port-item no">
                                <span class="relay-port-title">常开 (NO)</span>
                                <span class="relay-port-desc">常态(关)：与公共端口断开<br/>动作(开)：与公共端口导通</span>
                            </div>
                            <div class="relay-port-item com">
                                <span class="relay-port-title">公共 (COM)</span>
                                <span class="relay-port-desc">常态(关)：与常开端口断开，与常闭端口导通<br/>动作(开)：与常开端口导通，与常闭端口断开</span>
                            </div>
                            <div class="relay-port-item nc">
                                <span class="relay-port-title">常闭 (NC)</span>
                                <span class="relay-port-desc">常态(关)：与公共端口导通<br/>动作(开)：与公共端口断开</span>
                            </div>
                        </div>
                        <div class="wiring-examples">
                            <div class="example-item example-item-wide">
                                <img src="/images/relay.jpg" alt="继电器状态" loading="lazy" />
                                <span class="example-title">常态(关)（左图）&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;动作(开)（右图）</span>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="power-group mt-4">
                    <strong class="group-title">· 电气参数</strong>
                    <div class="config-block">
                        <p><span class="config-label">最大阻性负载:</span> AC 220V/9A (约 1.9kW) 或 DC 30V/9A (约 270W)。<br/>(阻性负载示例：加热棒、电热丝、白炽灯等)</p>
                        <p><span class="config-label">最大感性/容性负载:</span> AC 220V/2A (约 440W) 或 DC 30V/2A (约 60W)。<br/>(感性/容性负载示例：电磁阀、交流接触器、电机、水泵、LED 驱动电源等)</p>
                        <p><span class="config-label">使用寿命:</span> 电气寿命约 10 万次，机械寿命约 100 万次。</p>
                        <p><span class="config-label">线圈功耗:</span> 约 0.36W (5V/72mA)。</p>
                        <div class="info-card warning compact-warning">
                            <strong>⚠️ 安全警告:</strong> 高压接线必须由专业电工操作。大功率负载请务必外接大功率的继电器或交流接触器使用。
                        </div>
                    </div>
                </div>

                <div class="power-group mt-4">
                    <strong class="group-title">· 接线示例</strong>
                </div>
                <div class="wiring-examples">
                    <div class="example-item example-item-wide">
                        <img src="/images/relayw1.jpg" alt="照明/水泵/电磁阀" loading="lazy" />
                        <span class="example-title">照明/水泵/电磁阀</span>
                    </div>
                    <div class="example-item example-item-wide">
                        <img src="/images/relayw2.jpg" alt="直流电机正反转" loading="lazy" />
                        <span class="example-title">直流电机正反转</span>
                    </div>
                </div>
                <div class="wiring-examples">
                    <div class="example-item example-item-wide">
                        <img src="/images/relayw3.jpg" alt="电控箱常闭按钮改造" loading="lazy" />
                        <span class="example-title">电控箱常闭按钮改造</span>
                    </div>
                    <div class="example-item example-item-wide">
                        <img src="/images/relayw4.jpg" alt="电控箱常开按钮改造" loading="lazy" />
                        <span class="example-title">电控箱常开按钮改造</span>
                    </div>
                </div>
            </div>
        `,
    },
    {
        id: "outled",
        name: "13、继电器指示灯",
        labelName: "·O1 ·O2 ·O3 ·O4 ·O5 ·O6",
        area: { top: "85%", left: "79.5%", width: "5%", height: "18%" },
        labelPos: { top: "113%", left: "82%" },
        align: "center",
        vAlign: "down",
        detail: `
            <div class="detail-content">
                <p>实时显示各路继电器的当前开关状态。<br/>·O1 表示继电器1 / 开关1，·O2 表示继电器2 / 开关2，依此类推。</p>
            </div>
        `,
    },
    {
        id: "rf433Tx",
        name: "14、遥控信号(433MHz)发送(选配)",
        labelName: "·433MHz发送",
        area: { top: "30%", left: "75%", width: "10%", height: "5%" },
        labelPos: { top: "50%", left: "100%" },
        align: "right",
        vAlign: "down",
        detail: `
            <div class="detail-content">
                <p>选配功能。支持发送 433MHz 标准遥控信号。</p>
                <p><span class="config-label">常用于控制:</span> 无线开关、电动车库门、电动道闸、无线推杆等。</p>
                <div class="power-group mt-4">
                    <strong class="group-title">· App中433MHz信号发送相关界面:</strong>
                </div>
                <div class="screenshot-gallery">
                    <div class="gallery-item">
                        <img src="/images/433rt.jpg" alt="遥控器配置界面" loading="lazy" />
                    </div>
                    <div class="gallery-item">
                        <img src="/images/433t.jpg" alt="作为自动化逻辑的执行任务" loading="lazy" />
                    </div>
                </div>
            </div>
        `,
    },
    {
        id: "rf433Rx",
        name: "15、遥控信号(433MHz)接收(选配)",
        labelName: "·433MHz接收",
        area: { top: "45%", left: "75%", width: "10%", height: "5%" },
        labelPos: { top: "65%", left: "100%" },
        align: "right",
        vAlign: "down",
        detail: `
            <div class="detail-content">
                <p>选配功能。支持接收 433MHz 标准遥控信号。</p>
                <p><span class="config-label">常用于接收:</span> 433MHz 遥控器、无线随意贴、无线传感器等设备信号，并触发相应的控制逻辑。</p>
                <p><span class="config-label">特别适合老人方便地通过实体遥控器控制设备。</span></p>
                <div class="screenshot-gallery">
                    <div class="gallery-item">
                        <img src="/images/screenshot/params.jpg" alt="433MHz信号接收界面" loading="lazy" />
                        <div class="highlight-box" style="top: 92%; left: 30%; width: 23%; height: 8%;"></div>
                        <div class="highlight-box" style="top: 12%; left: 54%; width: 26%; height: 6%;"></div>
                        <div class="highlight-box" style="top: 31%; left: 43%; width: 56%; height: 11%;"></div>
                    </div>
                    <div class="gallery-item">
                        <img src="/images/433rt.jpg" alt="遥控器配置界面" loading="lazy" />
                    </div>
                    <div class="gallery-item">
                        <img src="/images/433r.jpg" alt="作为自动化逻辑的条件" loading="lazy" />
                    </div>
                </div>
            </div>
        `,
    },
];
---

<Layout
    title="硬件接口及电气参数 - 宜启智控Pro"
    description="宜启智控Pro硬件接口详解，包括继电器输出、PWM输出、开关量输入、模拟量输入、RS485 Modbus、IIC等接口规格"
    lang={lang}
>
    <div class="page-header">
        <div class="container">
            <h1 class="page-title">硬件接口及电气参数</h1>
            <p class="page-subtitle">
                了解宜启智控Pro的强大接口能力，满足95%传感器接入需求
            </p>
        </div>
    </div>

    <div class="content-wrapper">
        <main class="main-content">
            <!-- Overview Section -->
            <section id="overview" class="doc-section">
                <h2>接口总览</h2>
                <div class="interface-container">
                    <div class="interface-map" id="hardware-map">
                        <img
                            src="/images/products/6o4wzm.png"
                            alt="宜启智控Pro硬件接口图"
                        />

                        {/* SVG 引线层 */}
                        <svg
                            class="leader-lines-svg"
                            viewBox="0 0 100 100"
                            preserveAspectRatio="none"
                        >
                            {
                                interfaces.map((item) => {
                                    const startX =
                                        parseFloat(item.area.left) +
                                        parseFloat(item.area.width) / 2;
                                    const startY =
                                        parseFloat(item.area.top) +
                                        parseFloat(item.area.height) / 2;
                                    const endX = parseFloat(item.labelPos.left);
                                    const endY = parseFloat(item.labelPos.top);
                                    return (
                                        <line
                                            x1={startX}
                                            y1={startY}
                                            x2={endX}
                                            y2={endY}
                                            class="leader-line-path"
                                            id={`line-${item.id}`}
                                        />
                                    );
                                })
                            }
                        </svg>

                        {/* 交互标注层 */}
                        {
                            interfaces.map((item) => (
                                <div
                                    class={`interface-marker v-align-${item.vAlign || "up"}`}
                                    data-id={item.id}
                                    onmouseenter={`document.getElementById('line-${item.id}').classList.add('active')`}
                                    onmouseleave={`document.getElementById('line-${item.id}').classList.remove('active')`}
                                >
                                    {/* 接口矩形区域 */}
                                    <a
                                        href={`#detail-${item.id}`}
                                        class="interface-area"
                                        style={`top: ${item.area.top}; left: ${item.area.left}; width: ${item.area.width}; height: ${item.area.height};`}
                                        title={`点击查看 ${item.name} 详情`}
                                    />

                                    {/* 外围标签及浮层 */}
                                    <a
                                        href={`#detail-${item.id}`}
                                        class={`external-label align-${item.align}`}
                                        style={`top: ${item.labelPos.top}; left: ${item.labelPos.left};`}
                                    >
                                        <div class="label-text">
                                            {item.name}
                                        </div>
                                        <div class="point-tooltip">
                                            <h5>{item.name}</h5>
                                            {item.labelName && (
                                                <div class="tooltip-port-row">
                                                    <span class="tooltip-badge">
                                                        {item.labelName}
                                                    </span>
                                                </div>
                                            )}
                                            <div
                                                class="tooltip-body"
                                                set:html={item.detail}
                                            />
                                        </div>
                                    </a>
                                </div>
                            ))
                        }
                    </div>
                </div>
            </section>

            <!-- Detailed Interface List -->
            <section id="interface-details" class="doc-section">
                <h2>接口详细说明</h2>
                <div class="details-grid">
                    {
                        interfaces.map((item) => (
                            <div class="detail-card" id={`detail-${item.id}`}>
                                <h3>
                                    {item.name}
                                    {item.labelName && (
                                        <span class="card-badge">
                                            {item.labelName}
                                        </span>
                                    )}
                                </h3>
                                <div
                                    class="detail-full"
                                    set:html={item.detail}
                                />
                            </div>
                        ))
                    }
                </div>
            </section>
        </main>
    </div>

    <!-- 回到顶部按钮 -->
    <button id="back-to-top" class="back-to-top-btn" aria-label="回到顶部">
        <svg
            xmlns="http://www.w3.org/2000/svg"
            width="24"
            height="24"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
        >
            <path d="M18 15l-6-6-6 6"></path>
        </svg>
    </button>
</Layout>

<style>
    :root {
        --primary-rgb: 0, 102, 204;
    }

    /* Screenshot Highlight Area Styles */
    :global(.highlight-box) {
        position: absolute;
        border: 3px solid #4ecdc4;
        background: rgba(78, 205, 196, 0.1);
        border-radius: 0.25rem;
        z-index: 10;
        pointer-events: none;
    }

    /* Zoom Box Styles */
    :global(.zoom-detail-card) {
        background: white;
        border-radius: 18px;
        box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
        border: 3px solid #4ecdc4;
        padding: 0.5rem;
        width: 35%;
        flex-shrink: 0;
    }

    :global(.zoom-viewport) {
        overflow: hidden;
        position: relative;
        width: 100%;
    }

    :global(.zoom-image) {
        position: absolute;
        width: 100%;
        height: auto;
        display: block;
    }

    :global(.params-flex) {
        display: flex;
        align-items: flex-start;
        gap: 1.5rem;
    }

    :global(.screenshot-thumb) {
        position: relative;
        width: 20%;
        flex-shrink: 0;
    }

    /* Description Text Styles */
    .desc-text {
        font-size: 0.7rem;
        color: #555;
        line-height: 1.625;
    }

    .desc-text-highlight {
        font-size: 0.7rem;
        color: #4ecdc4;
        font-weight: 700;
    }

    .desc-code {
        font-size: 0.65rem;
        background: #e8f5f3;
        color: #4ecdc4;
        padding: 0.125rem 0.25rem;
        border-radius: 0.25rem;
        font-family: monospace;
    }

    /* Status Indicator Box */
    :global(.status-dot) {
        display: inline-block;
        width: 1.2rem;
        height: 1rem;
        border-radius: 0.125rem;
        vertical-align: middle;
        margin: 0 0.125rem;
    }

    :global(.status-dot.active) {
        background: #87ceeb;
    }

    :global(.status-dot.inactive) {
        background: white;
        border: 1px solid #d1d5db;
    }

    .page-header {
        background: var(--bg-light);
        color: var(--text-dark);
        padding: 1.25rem 1.5rem;
        text-align: center;
        border-bottom: 1px solid var(--border-light);
    }

    .container {
        max-width: 1200px;
        margin: 0 auto;
    }

    .page-title {
        font-size: 2.5rem;
        font-weight: 700;
        margin: 0 0 1rem;
    }

    .page-subtitle {
        font-size: 1.25rem;
        opacity: 0.9;
        margin: 0;
    }

    .content-wrapper {
        max-width: 1200px;
        margin: 0 auto;
        padding: 3rem 1.5rem;
    }

    /* Main Content */
    .main-content {
        min-width: 0;
    }

    .doc-section {
        margin-bottom: 4rem;
        position: relative;
    }

    /* 确保当前正在交互的章节处于最顶层，防止浮层被后续章节的标题遮挡 */
    .doc-section:has(.interface-marker:hover) {
        z-index: 1000;
    }

    .doc-section h2 {
        font-size: 1.75rem;
        font-weight: 700;
        color: var(--text-dark);
        margin: 0 0 1.5rem;
        padding-bottom: 0.75rem;
        border-bottom: 2px solid var(--primary-light);
    }

    .doc-section h3 {
        font-size: 1.25rem;
        font-weight: 600;
        color: var(--text-dark);
        margin: 2rem 0 1rem;
    }

    .doc-section p {
        color: var(--text-muted);
        line-height: 1.7;
        margin: 0 0 1rem;
    }

    /* Interface Map & Interactive UI */
    .interface-container {
        position: relative;
        z-index: 10;
        margin: 6rem 0 4rem 0; /* 增加顶部间距给上方标签留出空间 */
        padding: 5rem 3rem; /* 增加内边距 */
    }

    .interface-container:hover {
        z-index: 500;
    }

    .interface-map {
        position: relative;
        max-width: 800px;
        margin: 0 auto;
    }

    .interface-map img {
        display: block;
        width: 100%;
        height: auto;
    }

    .interface-marker {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        pointer-events: none;
        z-index: 10;
    }

    .interface-marker:hover {
        z-index: 1000;
    }

    /* SVG Leader Lines */
    .leader-lines-svg {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        z-index: 5;
        pointer-events: none;
        overflow: visible;
    }

    .leader-line-path {
        stroke: var(--primary);
        stroke-width: 1.5px;
        vector-effect: non-scaling-stroke;
        stroke-dasharray: 4 4;
        opacity: 0.4;
        transition: all 0.3s ease;
    }

    .leader-line-path.active {
        stroke-width: 2.5px;
        stroke-dasharray: 0;
        opacity: 1;
        filter: drop-shadow(0 0 3px var(--primary));
    }

    /* Interface Area Styling */
    .interface-area {
        position: absolute;
        background: rgba(var(--primary-rgb), 0.1);
        border: 1.5px dashed rgba(var(--primary-rgb), 0.4);
        border-radius: 4px;
        pointer-events: auto;
        cursor: help;
        transition: all 0.3s ease;
    }

    .interface-area:hover,
    .interface-marker:hover .interface-area {
        background: rgba(var(--primary-rgb), 0.2);
        border: 2.5px solid var(--primary);
        box-shadow: 0 0 10px rgba(var(--primary-rgb), 0.4);
    }

    /* External Labels */
    .external-label {
        position: absolute;
        background: white;
        color: var(--primary);
        border: 1.5px solid var(--primary);
        padding: 4px 16px;
        border-radius: 20px;
        font-size: 0.8rem;
        font-weight: 700;
        white-space: nowrap;
        pointer-events: auto;
        cursor: pointer;
        z-index: 40;
        transform: translate(-50%, -50%);
        box-shadow: 0 4px 12px rgba(var(--primary-rgb), 0.1);
        transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        display: flex;
        align-items: center;
        gap: 8px;
    }

    .port-badge {
        font-size: 0.7rem;
        background: var(--primary-light);
        color: var(--primary);
        padding: 1px 6px;
        border-radius: 4px;
        font-family: monospace;
    }

    .external-label:hover .port-badge,
    .interface-marker:hover .port-badge {
        background: rgba(255, 255, 255, 0.2);
        color: white;
    }

    .external-label:hover,
    .interface-marker:hover .external-label {
        background: var(--primary);
        color: white;
        box-shadow: 0 8px 24px rgba(var(--primary-rgb), 0.4);
    }

    /* Highlight line on hover */
    .interface-marker[data-id]:hover ~ .leader-lines-svg .leader-line-path,
    .interface-area:hover ~ .leader-line-path,
    .external-label:hover ~ .leader-line-path {
        /* CSS alone can't easily target a specific line by id from another sibling context 
           if the line is inside the SVG. We'll use JS if necessary, but for now 
           let's make all lines slightly more visible or use a general rule. */
    }

    .point-tooltip {
        position: absolute;
        width: 650px;
        max-height: 350px; /* 添加最大高度限制 */
        overflow-y: auto; /* 超出高度出现滚动条 */
        background: white;
        color: var(--text-dark);
        padding: 1.5rem;
        border-radius: 12px;
        box-shadow: 0 10px 40px rgba(0, 0, 0, 0.25);
        opacity: 0;
        visibility: hidden;
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        z-index: 1100;
        border: 1px solid var(--border-light);
        white-space: normal;
        font-weight: normal;
    }

    /* 自定义浮层滚动条样式 */
    .point-tooltip::-webkit-scrollbar {
        width: 5px;
    }
    .point-tooltip::-webkit-scrollbar-track {
        background: transparent;
    }
    .point-tooltip::-webkit-scrollbar-thumb {
        background: var(--primary-light);
        border-radius: 10px;
    }
    .point-tooltip::-webkit-scrollbar-thumb:hover {
        background: var(--primary);
    }

    .external-label:hover .point-tooltip,
    .interface-marker:hover .point-tooltip {
        opacity: 1;
        visibility: visible;
    }

    /* Improved Alignment Logic */
    .external-label.align-left .point-tooltip {
        left: 0;
        transform: translateX(0) translateY(0);
    }
    .external-label.align-center .point-tooltip {
        left: 50%;
        transform: translateX(-50%) translateY(0);
    }
    .external-label.align-right .point-tooltip {
        right: 0;
        transform: translateX(0) translateY(0);
    }

    .interface-marker.v-align-up .point-tooltip {
        bottom: 100%;
        margin-bottom: 15px;
    }
    .interface-marker.v-align-down .point-tooltip {
        top: 100%;
        margin-top: 15px;
    }

    /* Hover animation per alignment */
    .interface-marker.v-align-up:hover .external-label .point-tooltip {
        transform: translateX(0) translateY(-10px);
    }
    .interface-marker.v-align-up:hover
        .external-label.align-center
        .point-tooltip {
        transform: translateX(-50%) translateY(-10px);
    }

    .interface-marker.v-align-down:hover .external-label .point-tooltip {
        transform: translateX(0) translateY(10px);
    }
    .interface-marker.v-align-down:hover
        .external-label.align-center
        .point-tooltip {
        transform: translateX(-50%) translateY(10px);
    }

    .point-tooltip h5 {
        margin: 0 0 0.5rem;
        color: var(--primary);
        font-size: 1rem;
        font-weight: 700;
        border: none;
        padding: 0;
    }

    .detail-card h3 {
        margin: 0 0 1.25rem;
        color: var(--primary);
        font-size: 1.125rem;
        font-weight: 700;
        display: flex;
        align-items: center;
        gap: 12px;
    }

    .tooltip-port-row {
        margin-bottom: 1rem;
        padding-bottom: 0.75rem;
        border-bottom: 2px solid var(--primary-light);
        display: flex;
        align-items: center;
    }

    .tooltip-badge {
        font-size: 0.75rem;
        background: var(--primary-light);
        color: var(--primary);
        padding: 4px 12px;
        border-radius: 6px;
        font-family: monospace;
        font-weight: 700;
    }

    .card-badge {
        font-size: 0.8rem;
        background: var(--primary-light);
        color: var(--primary);
        padding: 4px 12px;
        border-radius: 6px;
        font-family: monospace;
        font-weight: 700;
    }

    .tooltip-body {
        text-align: left;
        font-size: 0.85rem;
        color: var(--text-muted);
        line-height: 1.6;
    }

    .detail-full {
        text-align: left;
        font-size: 0.9rem;
        color: var(--text-muted);
        line-height: 1.6;
    }

    .detail-content p {
        margin-bottom: 0.75rem;
        font-size: 0.9rem;
        line-height: 1.5;
    }

    .detail-list {
        padding-left: 1.25rem;
        margin: 0.5rem 0;
    }

    .detail-list li {
        font-size: 0.85rem;
        color: var(--text-muted);
        margin-bottom: 0.25rem;
        list-style-type: disc;
    }

    .detail-grid-inner {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 0.5rem;
        background: var(--bg-light);
        padding: 0.75rem;
        border-radius: 8px;
        margin-top: 0.5rem;
    }

    .inner-item {
        font-size: 0.8rem;
        display: flex;
        flex-direction: column;
    }

    .inner-item strong {
        color: var(--text-dark);
        font-size: 0.75rem;
    }

    :global(.power-group + .power-group) {
        margin-top: 1rem;
    }

    :global(.mt-4) {
        margin-top: 1rem;
    }

    /* 使用 :global() 以确保样式能应用到通过 set:html 注入的动态 HTML 中 */
    :global(.group-title) {
        display: block;
        font-size: 0.95rem;
        color: var(--primary);
        margin-bottom: 0.5rem;
        font-weight: 700;
    }

    :global(.config-block) {
        background: var(--bg-light);
        padding: 0.75rem;
        border-radius: 8px;
        border-left: 3px solid var(--primary-light);
    }

    :global(.config-block) p {
        margin-bottom: 0.4rem !important;
        font-size: 0.85rem !important;
    }

    :global(.config-block) p:last-child {
        margin-bottom: 0 !important;
    }

    :global(.config-label) {
        font-weight: 700;
        color: var(--text-dark);
        margin-right: 4px;
    }

    .hint {
        color: #f59e0b !important;
        font-weight: 600;
        font-size: 0.8rem !important;
    }

    /* Wiring examples styling */
    :global(.wiring-examples) {
        display: grid;
        grid-template-columns: repeat(4, 1fr);
        gap: 1rem;
        margin-top: 1.5rem;
    }

    :global(.example-item) {
        display: flex;
        flex-direction: column;
        gap: 0.5rem;
        background: #fdfdfd;
        border-radius: 8px;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
        padding: 8px;
        transition: all 0.3s ease;
        text-align: center;
    }

    :global(.example-title) {
        font-size: 0.75rem;
        font-weight: 700;
        color: var(--text-dark);
        opacity: 0.9;
        margin-bottom: 4px;
    }

    :global(.example-item img) {
        width: 100%;
        height: 120px; /* 统一高度 */
        object-fit: contain;
        border-radius: 4px;
        transition: transform 0.3s ease;
    }

    /* RS485接线图专用样式 - 更宽的宽高比 */
    :global(.example-item-wide) {
        grid-column: span 2; /* 占据2列宽度 */
    }

    :global(.example-item:hover) {
        transform: translateY(-4px);
        box-shadow: 0 8px 24px rgba(var(--primary-rgb), 0.15);
    }

    /* Screenshot Gallery - 可放大的截图画廊 */
    :global(.screenshot-gallery) {
        display: grid;
        grid-template-columns: repeat(4, 1fr);
        gap: 1rem;
        margin-top: 1rem;
    }

    :global(.gallery-item) {
        position: relative;
        background: #fdfdfd;
        border-radius: 8px;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
        padding: 8px;
        overflow: visible;
        cursor: pointer;
        transition: all 0.3s ease;
    }

    :global(.gallery-item img) {
        width: 100%;
        height: auto;
        display: block;
        border-radius: 4px;
        transition: all 0.3s ease;
    }

    :global(.gallery-item:hover) {
        z-index: 1000;
    }

    :global(.gallery-item:hover img) {
        transform: scale(1.5);
        box-shadow: 0 20px 60px rgba(0, 0, 0, 0.4);
        border-radius: 8px;
        position: relative;
        z-index: 1001;
    }

    @media (max-width: 768px) {
        :global(.wiring-examples) {
            grid-template-columns: 1fr;
        }

        :global(.screenshot-gallery) {
            grid-template-columns: repeat(2, 1fr);
        }

        :global(.gallery-item:hover img) {
            transform: scale(2);
        }
    }

    /* Details Grid */
    .details-grid {
        display: grid;
        grid-template-columns: 1fr;
        gap: 0;
        margin-top: 1rem;
    }

    .detail-card {
        background: transparent;
        border: none;
        padding: 2rem 1.5rem;
        margin: 0 -1.5rem;
        transition: all 0.3s ease;
        scroll-margin-top: 100px;
        text-decoration: none;
        display: block;
        border-radius: 8px;
    }

    .detail-card:hover {
        background: rgba(var(--primary-rgb), 0.05);
    }

    .detail-card h3 {
        /* Styles unified above */
    }

    .detail-desc {
        font-weight: 600;
        color: var(--primary) !important;
        margin-bottom: 0.5rem !important;
        font-size: 0.9rem;
    }

    .overview-intro {
        text-align: center;
        max-width: 800px;
        margin: 2rem auto !important;
        font-size: 1.1rem !important;
    }

    /* Fix image centering in diagram */
    .interface-diagram {
        display: none; /* Replaced by interface-container */
    }

    /* Specs Overview */
    .specs-overview {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 1rem;
        margin: 1.5rem 0;
    }

    .spec-item {
        background: var(--bg-light);
        padding: 1rem 1.5rem;
        border-radius: 10px;
        display: flex;
        flex-direction: column;
        gap: 0.25rem;
    }

    .spec-label {
        font-size: 0.875rem;
        color: var(--text-muted);
    }

    .spec-value {
        font-weight: 600;
        color: var(--text-dark);
    }

    /* Info Cards */
    .info-card {
        padding: 1rem 1.5rem;
        border-radius: 10px;
        margin: 1.5rem 0;
    }

    .info-card.warning {
        background: #fff7ed;
        border-left: 4px solid #f97316;
    }

    .info-card h4 {
        margin: 0 0 0.5rem;
        color: #c2410c;
    }

    .info-card p {
        margin: 0;
        color: #9a3412;
    }

    /* Tables */
    .spec-table {
        width: 100%;
        border-collapse: collapse;
        margin: 1rem 0;
        font-size: 0.95rem;
    }

    .spec-table th,
    .spec-table td {
        padding: 0.875rem 1rem;
        text-align: left;
        border-bottom: 1px solid var(--border-light);
    }

    .spec-table th {
        background: var(--bg-light);
        font-weight: 600;
        color: var(--text-dark);
    }

    .spec-table td {
        color: var(--text-muted);
    }

    .models-table td:first-child {
        color: var(--primary);
    }

    /* Relay Port Legend */
    :global(.relay-port-legend) {
        display: grid;
        grid-template-columns: 1fr 1fr 1fr;
        gap: 0.5rem;
        text-align: center;
    }
    :global(.relay-port-item) {
        padding: 0.5rem;
        border-radius: 4px;
    }
    :global(.relay-port-title) {
        display: block;
        font-weight: bold;
        font-size: 0.9rem;
    }
    :global(.relay-port-desc) {
        font-size: 0.75rem;
        color: #555;
    }
    :global(.relay-port-item.no) {
        background: #e0f2fe;
    }
    :global(.relay-port-item.no .relay-port-title) {
        color: #0284c7;
    }

    :global(.relay-port-item.com) {
        background: #f3f4f6;
    }
    :global(.relay-port-item.com .relay-port-title) {
        color: #4b5563;
    }

    :global(.relay-port-item.nc) {
        background: #fee2e2;
    }
    :global(.relay-port-item.nc .relay-port-title) {
        color: #dc2626;
    }

    :global(.relay-port-item.nc .relay-port-title) {
        color: #dc2626;
    }

    :global(.compact-warning) {
        margin: 0.5rem 0 0 0 !important;
        padding: 0.75rem !important;
        font-size: 0.85rem;
        border-left-width: 3px !important;
    }

    /* Feature List */
    .feature-list {
        list-style: none;
        padding: 0;
        margin: 1rem 0;
    }

    .feature-list li {
        padding: 0.5rem 0 0.5rem 1.5rem;
        position: relative;
        color: var(--text-muted);
    }

    .feature-list li::before {
        content: "✓";
        position: absolute;
        left: 0;
        color: var(--primary);
        font-weight: 600;
    }

    /* CTA Box */
    .cta-box {
        background: linear-gradient(135deg, #f0f7ff 0%, #e6f0fa 100%);
        padding: 2rem;
        border-radius: 16px;
        text-align: center;
        margin-top: 2rem;
    }

    .cta-box p {
        font-size: 1.125rem;
        color: var(--text-dark);
        margin: 0 0 1rem;
    }

    .btn {
        display: inline-flex;
        padding: 0.75rem 1.5rem;
        font-weight: 600;
        border-radius: 10px;
        text-decoration: none;
        transition: all 0.2s ease;
    }

    .btn-primary {
        background: linear-gradient(
            135deg,
            var(--primary) 0%,
            var(--primary-dark) 100%
        );
        color: white;
    }

    .btn-primary:hover {
        transform: translateY(-2px);
        color: white;
    }

    /* 回到顶部按钮样式 */
    .back-to-top-btn {
        position: fixed;
        bottom: 2rem;
        right: 2rem;
        width: 3rem;
        height: 3rem;
        border-radius: 50%;
        background: linear-gradient(135deg, #0066cc 0%, #0052a3 100%);
        color: white;
        border: none;
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: center;
        box-shadow: 0 4px 12px rgba(0, 102, 204, 0.3);
        opacity: 0;
        visibility: hidden;
        transform: translateY(100px);
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        z-index: 1000;
    }

    .back-to-top-btn.show {
        opacity: 1;
        visibility: visible;
        transform: translateY(0);
    }

    .back-to-top-btn:hover {
        background: linear-gradient(135deg, #0052a3 0%, #003d7a 100%);
        box-shadow: 0 6px 20px rgba(0, 102, 204, 0.4);
        transform: translateY(-3px);
    }

    .back-to-top-btn:active {
        transform: translateY(-1px);
        box-shadow: 0 3px 10px rgba(0, 102, 204, 0.3);
    }

    .back-to-top-btn svg {
        width: 1.5rem;
        height: 1.5rem;
    }

    /* 响应式调整 */
    @media (max-width: 768px) {
        .back-to-top-btn {
            bottom: 1.5rem;
            right: 1.5rem;
            width: 2.5rem;
            height: 2.5rem;
        }

        .back-to-top-btn svg {
            width: 1.25rem;
            height: 1.25rem;
        }
    }
</style>

<script>
    // 回到顶部按钮功能
    document.addEventListener("DOMContentLoaded", () => {
        const backToTopBtn = document.getElementById("back-to-top");

        if (!backToTopBtn) return;

        // 监听滚动事件，控制按钮显示/隐藏
        const toggleButtonVisibility = () => {
            if (window.scrollY > 300) {
                backToTopBtn.classList.add("show");
            } else {
                backToTopBtn.classList.remove("show");
            }
        };

        // 使用节流优化滚动性能
        let scrollTimeout: number | undefined;
        window.addEventListener("scroll", () => {
            if (scrollTimeout) {
                window.cancelAnimationFrame(scrollTimeout);
            }
            scrollTimeout = window.requestAnimationFrame(
                toggleButtonVisibility,
            );
        });

        // 点击按钮平滑滚动到顶部
        backToTopBtn.addEventListener("click", () => {
            window.scrollTo({
                top: 0,
                behavior: "smooth",
            });
        });

        // 初始化检查
        toggleButtonVisibility();
    });
</script>
