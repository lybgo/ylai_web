---
import Layout from "../../layouts/Layout.astro";

const lang = "en";
---

<Layout
    title="MQTT Protocol Documentation - IOTAutoMate"
    description="IOTAutoMate MQTT protocol documentation, including data reporting format, control commands, JSON message examples and complete technical documentation"
    lang={lang}
>
    <div class="page-header">
        <div class="container">
            <h1 class="page-title">MQTT Protocol Documentation</h1>
            <p class="page-subtitle">
                Implement remote device control and data collection via MQTT
                protocol, integrate with various IoT platforms
            </p>
        </div>
    </div>

    <div class="content-wrapper">
        <nav class="sidebar">
            <h3 class="sidebar-title">Table of Contents</h3>
            <ul class="sidebar-nav">
                <li><a href="#app-screenshots">Quick MQTT Setup via App</a></li>
                <li><a href="#overview">Protocol Overview</a></li>
                <li><a href="#report">Data Reporting Format</a></li>
                <li><a href="#control">Control Commands</a></li>
                <li><a href="#switch">Switch Control (so)</a></li>
                <li><a href="#pwm">PWM Control (sp)</a></li>
                <li><a href="#counter">Counter Control (sc)</a></li>
                <li><a href="#rf433">RF433 Remote</a></li>
                <li><a href="#getData">Get Full Data</a></li>
                <li>
                    <a href="#task">Tasks & Automation</a>
                    <ul class="submenu">
                        <li><a href="#task-ro">Execute Task</a></li>
                        <li><a href="#task-se">Enable/Disable Task</a></li>
                        <li><a href="#task-sd">Stop Delay Task</a></li>
                        <li><a href="#task-cp">Clear Pulse Count</a></li>
                    </ul>
                </li>
                <li>
                    <a href="#system">System Commands</a>
                    <ul class="submenu">
                        <li><a href="#system-rb">Reboot Device</a></li>
                        <li><a href="#system-sk">Change Password</a></li>
                        <li><a href="#ota">OTA Upgrade</a></li>
                    </ul>
                </li>
            </ul>
        </nav>

        <main class="main-content">
            <!-- App Screenshots -->
            <section id="app-screenshots" class="doc-section">
                <h2>Quick MQTT Setup via App</h2>
                <p>
                    In the YLAI App, you can easily configure MQTT server
                    parameters and data item active reporting rules.
                </p>
                <div class="screenshot-grid">
                    <div class="screenshot-card">
                        <div class="screenshot-wrapper">
                            <img
                                src="/images/mqtt1.jpg"
                                alt="MQTT Configuration Entry"
                            />
                            <div
                                class="highlight-box"
                                style="top: 85.5%; left: 0%; width: 100%; height: 8%;"
                            >
                            </div>
                            <div
                                class="highlight-box"
                                style="top: 53.2%; left: 0%; width: 100%; height: 8%;"
                            >
                            </div>
                        </div>
                        <p class="screenshot-caption">
                            MQTT Configuration Entry
                        </p>
                    </div>
                    <div class="screenshot-card">
                        <div class="screenshot-wrapper">
                            <img
                                src="/images/mqtt2.jpg"
                                alt="MQTT Configuration Page"
                            />
                        </div>
                        <p class="screenshot-caption">
                            MQTT Configuration Page
                        </p>
                    </div>
                    <div class="screenshot-card">
                        <div class="screenshot-wrapper">
                            <img
                                src="/images/mqtt3.jpg"
                                alt="SSL / TLS Certificate Configuration"
                            />
                        </div>
                        <p class="screenshot-caption">
                            SSL / TLS Certificate Configuration
                        </p>
                    </div>
                    <div class="screenshot-card">
                        <div class="screenshot-wrapper">
                            <img
                                src="/images/mqtt4.jpg"
                                alt="Data Item Active Reporting Rules"
                            />
                        </div>
                        <p class="screenshot-caption">
                            Data Item Active Reporting Rules
                        </p>
                    </div>
                </div>
            </section>

            <!-- Overview -->
            <section id="overview" class="doc-section">
                <h2>Protocol Overview</h2>
                <p>
                    IOTAutoMate supports standard MQTT protocol, MQTT version:
                    V3.1.1, QoS level: QoS 0, can connect to any MQTT Broker,
                    including:
                </p>
                <ul class="tag-list">
                    <li>Alibaba Cloud IoT</li>
                    <li>Tencent Cloud IoT</li>
                    <li>Bafayun</li>
                    <li>ThingsCloud</li>
                    <li>ThingsBoard</li>
                    <li>Home Assistant</li>
                    <li>EMQX</li>
                    <li>Self-hosted MQTT Server</li>
                </ul>
            </section>

            <!-- Data Report -->
            <section id="report" class="doc-section">
                <h2>Data Reporting Format</h2>
                <p class="feature-intro">
                    Device reporting uses <strong>JSON</strong> format and follows
                    these data synchronization specifications:
                </p>
                <div class="feature-steps">
                    <div class="step-item">
                        <span class="step-badge">Initialization</span>
                        <span class="step-text"
                            >Upon first connection, immediately report <strong
                                >full data</strong
                            >.</span
                        >
                    </div>
                    <div class="step-item">
                        <span class="step-badge">Incremental Update</span>
                        <span class="step-text"
                            >Only when data points change, actively report <strong
                                >changed fields</strong
                            >.</span
                        >
                    </div>
                    <div class="step-item">
                        <span class="step-badge">Customization</span>
                        <span class="step-text"
                            >Reporting logic can be precisely configured via <strong
                                >"Data Sync to Cloud"</strong
                            > in the App.</span
                        >
                    </div>
                </div>

                <div class="code-block full-width">
                    <pre><code>{`{
  "devNameA": [{              `}<span class="tok-comment">// Device name, format: yq_MainId_subId; where yq is a fixed string,</span>{`
                              `}<span class="tok-comment">// MainId: hexadecimal IOTAutoMate device ID, subId: hexadecimal Mesh sub-device ID; eg: yq_A755_0</span>{`
    "o": [states, size],      `}<span class="tok-comment">// states: switch states, binary bit represents output state, 0: off, 1: on; size: number of outputs</span>{`
    "p": [onoffs,inverses,p0,h0,pr0,hr0,...,pN,hN,prN,hrN],`}<span class="tok-comment" />{`
                              `}<span class="tok-comment">// PWM states, onoffs: switch states, binary bit represents output state, 0: off, 1: on;</span>{`
                              `}<span class="tok-comment">// inverses: duty cycle inversion, binary bit represents output state, 0: normal, 1: inverted;</span>{`
                              `}<span class="tok-comment">// pN: Nth channel duty cycle (scaled by 100); hN: Nth channel frequency; prN: Nth channel duty cycle ramp rate; hrN: Nth channel frequency ramp rate</span>{`
    "i": [onoffs,pulse0,hz0,...,pulseN,hzN],`}<span class="tok-comment" />{`
                              `}<span class="tok-comment">// Input states, onoffs: digital input states, binary bit represents output state, 0: inactive, 1: active;</span>{`
                              `}<span class="tok-comment">// pulseN: Nth channel pulse count; hzN: Nth channel frequency value;</span>{`
    "t": [t1, t2, humi],      `}<span class="tok-comment">// Environmental data. t1: temperature 1 (DS18B20); t2: temperature 2 (SHT30); humi: humidity (SHT30)</span>{`
    "a": [a1, a2, a3],        `}<span class="tok-comment">// Analog input mapped values (scaled by 100), a1: analog 1; a2: analog 2; a3: analog 3</span>{`
    "c": [c1, c2, ..., c16],  `}<span class="tok-comment">// Counter values. 16 Int32 type counter current values</span>{`
    "r": rfValue,             `}<span class="tok-comment">// Received 433MHz remote signal. High 20 bits are remote ID, low 4 bits are key value</span>{`
    "s": states,              `}<span class="tok-comment">// Device internal states. bit0: startup, bit1: Bluetooth connected, bit2: Bluetooth disconnected</span>{`
    "mb": [states, size],     `}<span class="tok-comment">// RS485 read coil/discrete input states, states: binary bit represents state, 0: off, 1: on; size: quantity</span>{`
    "mv": [v1, v2, ...,valN], `}<span class="tok-comment">// RS485 read holding/input register values, valN: Nth value</span>{`
    "v": [fVer, uVer, dVer]   `}<span class="tok-comment">// Version numbers. fVer: framework firmware; uVer: user logic; dVer: driver firmware; (only reported on first connection)</span>{`
  }],
        ...,
    "devNameN":[{...}],
}`}</code></pre>
                </div>

                <h3>Reporting Message Example</h3>
                <div class="code-block full-width">
                    <pre><code>{`{
  "yq_6809_0": [{
    "o": [10, 6],
    "i": [4, 0, 0, 0, 0, 28, 0, 0, 0, 0, 0, 0, 0],
    "c": [500, 500, 0, 0, 0, 0, 0, 398, 0, 0, 0, 0, 0, 0, 0, 0],
    "p": [1, 0, 0, 500, 0, 0, 10000, 500, 0, 0, 10000, 500, 0, 0, 10000, 500, 0, 0],
    "t": [0, 16, 43],
    "a": [115, 0, 0],
    "v": [83, 1767745693, 3],
    "mb": [0, 0],
    "mv": []
  }]
}`}</code></pre>
                </div>
            </section>

            <!-- Control Commands -->
            <section id="control" class="doc-section">
                <h2>Control Commands</h2>

                <h3>Control Data Format (Single Command)</h3>
                <div class="code-block">
                    <pre><code>{`{
  "device": "devName",`}<span class="tok-comment">// devName: device name, example: "yq_6809_0"</span>{`
  "data": {
    "id": 1,`}<span class="tok-comment">// Message ID, auto-increment</span>{`
    "method": "",`}<span class="tok-comment">// Control method, example: "so"</span>{`
    "params": {}`}<span class="tok-comment">// Control parameters, varies by control method</span>{`
}`}</code></pre>
                </div>

                <h3>Control Data Format (Multiple Commands)</h3>
                <div class="code-block">
                    <pre><code>{`{
  "device": "yq_A755_0",
  "data": [
    { "id": 1, "method": "so", "params": [228, 0] },`}<span class="tok-comment">// Control command 1</span>{`
    { "id": 2, "method": "sp", "params": [0, 1, 0, 5000, 1000, 0, 0] }`}<span class="tok-comment">// Control command 2</span>{`
  ]
}`}</code></pre>
                </div>
            </section>

            <!-- Switch Control -->
            <section id="switch" class="doc-section">
                <h3>
                    Switch Control (so) <span class="section-subtitle"
                        >Control relay switch output states</span
                    >
                </h3>
                <div class="code-block">
                    <pre><code>{`"method": "so",`}<span class="tok-comment">// set output </span>{`
"params": [value0, value1]`}
    <span class="tok-comment">//value0: 0-16 switch control values, value1: reserved, default 0.
    //Each 2 bits in value0's binary value corresponds to 1 output: 00=no action, 01=off, 10=on, 11=toggle
    //Example: value0 = 228 = 0b 11 10 01 00
    //Switch 1: 00 = no action
    //Switch 2: 01 = off
    //Switch 3: 10 = on  
    //Switch 4: 11 = toggle
    //Other switches: 00 = no action<br />
    //Example code: Turn on switch 3, other switches no action   
</span>
{`{
	"device": "yq_6809_0",
	"data": {
		"id": 1,
		"method": "so",
		"params": [32, 0]
	}
}`}</code></pre>
                </div>
            </section>

            <!-- PWM Control -->
            <section id="pwm" class="doc-section">
                <h3>
                    PWM Control (sp) <span class="section-subtitle"
                        >Control PWM output duty cycle, frequency and ramp rate</span
                    >
                </h3>

                <div class="code-block">
                    <pre><code>{`"method": "sp",`}<span class="tok-comment">// set pwm </span>{`
"params": [idx, onoff, inverse, pwm, hz, pwmRate, hzRate]`}
    <span class="tok-comment">// idx: PWM index (starts from 0)
    // onoff: 0=off, 1=on, 2=toggle
    // inverse: 0=normal, 1=inverted
    // pwm: duty cycle 0-10000 (actual 0-100.00%)
    // hz: frequency 1-150000Hz
    // pwmRate: duty cycle ramp rate 0-10000/s (actual 0-100.00%/s)
    // hzRate: frequency ramp rate 0-100000Hz/s
    // Set to -1 to keep original value<br />
//Example code: Set PWM1 duty cycle to 80%, keep other parameters
</span>
{`{
	"device": "yq_6809_0",
	"data": {
		"id": 1,
		"method": "sp",
		"params": [1, -1, -1, 8000, -1, -1, -1]
	}
}`}
</code></pre>
                </div>
            </section>

            <!-- Counter Control -->
            <section id="counter" class="doc-section">
                <h3>
                    Counter Control (sc) <span class="section-subtitle"
                        >Set or modify the 16 internal counter values (parameter
                        values)</span
                    >
                </h3>

                <div class="code-block">
                    <pre><code>{`"method": "sc",`}<span class="tok-comment">// set counter </span>{`
"params": [idxN,typeN,valueN,...]`}
    <span class="tok-comment">// idx: counter index 0-15
    // type: operation type 0=set, directly set value; 1=increment, increment from current value; 2=decrement, decrement from current value
    // value: specific operation value (Int32)<br />
//Example code: Set counter 3 to 12345, increment counter 4 by 8899
</span>
{`{
	"device": "yq_6809_0",
	"data": {
		"id": 1,
		"method": "sc",
		"params": [2, 0, 12345, 3, 1, 8899]
	}
}`}
</code></pre>
                </div>
            </section>

            <!-- RF433 Control -->
            <section id="rf433" class="doc-section">
                <h3>
                    RF433 Remote Control (sr) <span class="section-subtitle"
                        >Send 433MHz RF signals to remotely control receiving
                        devices or simulate remote buttons</span
                    >
                </h3>

                <div class="code-block">
                    <pre><code>{`"method": "sr",`}<span class="tok-comment">// set RF </span>{`
"params": [idx, rfValue]`}
    <span class="tok-comment">// idx: remote index
    //0~9: corresponds to hardware preset remotes 1~10
    //10~19: corresponds to device learned remotes 11~19
    //-1: use custom rfValue (high 20 bits ID + low 4 bits key value)
    //rfValue: 433MHz key value (0~15)<br />
//Example code: Press button 3 on remote 3
</span>
{`{
	"device": "yq_6809_0",
	"data": {
		"id": 1,
		"method": "sr",
		"params": [2, 3]
	}
}`}</code></pre>
                </div>
            </section>

            <section id="getData" class="doc-section">
                <h3>
                    Get Full Data (gd) <span class="section-subtitle"
                        >Get all device data</span
                    >
                </h3>

                <div class="code-block">
                    <pre><code>{`"method": "gd",`}<span class="tok-comment">// get data </span>{`
"params": dataType`}
    <span class="tok-comment">// dataType: data type to retrieve, reported as full data
    //0: basic data (switches, inputs, PWM, temperature/humidity, ADC, counters, Modbus data)<br />
//Example code: Get basic data
</span>
{`{
	"device": "yq_6809_0",
	"data": {
		"id": 1,
		"method": "gd",
		"params": 0
	}
}`}</code></pre>
                </div>
            </section>

            <!-- Task Control -->
            <section id="task" class="doc-section">
                <h3 id="task-ro">Execute "One-Click" Task (ro)</h3>
                <div class="code-block">
                    <pre><code>{`"method": "ro",`}<span class="tok-comment">// run oneKeyTask </span>{`
"params": taskId `}<span class="tok-comment">// Task ID (visible in APP)<br />
//Example code: Execute "one-click" task with ID 12
</span>
{`{
	"device": "yq_6809_0",
	"data": {
		"id": 1,
		"method": "ro",
		"params": 12
	}
}`}</code></pre>
                </div>

                <h3 id="task-se">
                    Enable/Disable Automation or Scheduled Task (se)
                </h3>
                <div class="code-block">
                    <pre><code>{`"method": "se",`}<span class="tok-comment">//set enable </span>{`
"params": [taskId, enable]  `}<span class="tok-comment">//taskId: task ID to control; enable: 0: disable, 1: enable<br />
//Example code: Disable task with ID 13
</span>
{`{
	"device": "yq_6809_0",
	"data": {
		"id": 1,
		"method": "se",
		"params": [13,0]
	}
}`}
</code></pre>
                </div>

                <h3 id="task-sd">Stop Executing Delay Task (sd)</h3>
                <div class="code-block">
                    <pre><code>{`"method": "sd",`}<span class="tok-comment">//stop delay </span>{`
"params": id  `}<span class="tok-comment">// Task ID to stop, no effect if task is not executing<br />
//Example code: Stop task with ID 14
</span>
{`{
	"device": "yq_6809_0",
	"data": {
		"id": 1,
		"method": "sd",
		"params": 14
	}
}`}
</code></pre>
                </div>
                <h3 id="task-cp">Clear Digital Input Pulse Count (cp)</h3>
                <div class="code-block">
                    <pre><code>{`"method": "cp",`}<span class="tok-comment">//clear pulse </span>{`
"params": idx  `}<span class="tok-comment">//Digital input index to clear<br />
//Example code: Clear pulse count for input 2
</span>
{`{
	"device": "yq_6809_0",
	"data": {
		"id": 1,
		"method": "cp",
		"params": 1
	}
}`}</code></pre>
                </div>
            </section>

            <!-- System Commands -->
            <section id="system" class="doc-section">
                <h2>System Commands</h2>

                <h3 id="system-rb">Reboot Device (rb)</h3>
                <div class="code-block">
                    <pre><code>{`"method": "rb",`}<span class="tok-comment">//reboot </span>{`
"params": 1`}<span class="tok-comment">//1: reboot<br />
//Example code: Reboot device
</span>
{`{
	"device": "yq_6809_0",
	"data": {
		"id": 1,
		"method": "rb",
		"params": 1
	}
}`}
</code></pre>
                </div>

                <h3 id="system-sk">Set/Modify App Device Password (sk)</h3>
                <div class="code-block">
                    <pre><code>{`"method": "sk",`}<span class="tok-comment">//set key </span>{`
"params": [admin, user]`}<span class="tok-comment">//admin: admin password, user: user password; if either is set to 0, password is cleared<br />
//Example code: Set admin password to 123456, user password to 654321
</span>
{`{
	"device": "yq_6809_0",
	"data": {
		"id": 1,
		"method": "sk",
		"params": [123456, 654321]
	}
}`}</code></pre>
                </div>
                <h3>OTA Remote Upgrade (ot)</h3>
                <div class="info-card warning">
                    <h4>⚠️ Proceed with Caution</h4>
                    <ul>
                        <li>
                            Device will automatically reboot after successful
                            upgrade, please assess on-site risks.
                        </li>
                        <li>
                            Ensure firmware version is correct and stable to
                            avoid crashes or functional issues.
                        </li>
                        <li>
                            During upgrade, network (2.4G WiFi) and power supply
                            must be extremely stable.
                        </li>
                        <li>
                            When updating user logic firmware on MQTT version
                            devices, firmware must include MQTT configuration,
                            otherwise connection will be lost.
                        </li>
                    </ul>
                </div>

                <div class="code-block">
                    <pre><code>{`"method": "ot",`}<span class="tok-comment">//ota </span>{`
"params": [binType, url, wifiName, wifiPsw]`}
    <span class="tok-comment">// binType: firmware type
    //  "0": Framework firmware (requires version > 82)
    //  "1": User logic firmware (will connect to MQTT in firmware after update)
    //  "2": User logic firmware (permanent)
    //  "3": Driver firmware
    // url: firmware file download direct link
    // wifiName: on-site 2.4G WiFi name
    // wifiPsw: on-site WiFi password<br />
//Example code: Upgrade user logic firmware
</span>
{`{
	"device": "yq_6809_0",
	"data": {
		"id": 1,
		"method": "ot",
		"params": ["1", "http://example.com/firmware.bin", "WiFiName", "WiFiPassword"]
	}
}`}</code></pre>
                </div>

                <p>
                    After upgrade completion, you can verify the version number
                    through the device's reported <code>v</code> field to confirm
                    upgrade success.
                </p>
            </section>

            <div class="cta-box">
                <p>Need to integrate with IoT platforms?</p>
                <a href="/en/tutorials" class="btn btn-primary"
                    >View Platform Integration Tutorials →</a
                >
            </div>
        </main>

        <style>
            .page-header {
                background: var(--bg-light);
                color: var(--text-dark);
                padding: 1.25rem 1.5rem;
                text-align: center;
                border-bottom: 1px solid var(--border-light);
            }

            .container {
                max-width: 1200px;
                margin: 0 auto;
            }

            .page-title {
                font-size: 2.5rem;
                font-weight: 700;
                margin: 0 0 1rem;
            }

            .page-subtitle {
                font-size: 1.25rem;
                opacity: 0.9;
                margin: 0;
            }

            .content-wrapper {
                max-width: 1200px;
                margin: 0 auto;
                display: grid;
                grid-template-columns: 180px 1fr;
                gap: 3rem;
                padding: 3rem 1.5rem;
            }

            @media (max-width: 1024px) {
                .content-wrapper {
                    grid-template-columns: 1fr;
                }
            }

            /* Sidebar */
            .sidebar {
                position: sticky;
                top: 80px;
                height: fit-content;
            }

            @media (max-width: 1024px) {
                .sidebar {
                    position: sticky;
                    top: 64px; /* Adjust to Header height */
                    z-index: 100;
                    background: rgba(255, 255, 255, 0.95);
                    backdrop-filter: blur(10px);
                    margin: 0 -1.5rem 2rem;
                    padding: 0.75rem 0;
                    border-bottom: 1px solid var(--border-light);
                    border-top: 1px solid var(--border-light);
                }

                .sidebar-title {
                    display: none;
                }

                .sidebar-nav {
                    display: flex;
                    overflow-x: auto;
                    padding: 0 1.5rem;
                    gap: 0.6rem;
                    -ms-overflow-style: none;
                    scrollbar-width: none;
                }

                .sidebar-nav::-webkit-scrollbar {
                    display: none;
                }

                .sidebar-nav li {
                    margin-bottom: 0;
                    flex-shrink: 0;
                }

                .sidebar-nav a {
                    padding: 0.4rem 1rem;
                    background: var(--bg-light);
                    font-size: 0.875rem;
                    border: 1px solid var(--border-light);
                    border-radius: 2rem;
                    color: var(--text-dark);
                }

                .sidebar-nav a:hover {
                    background: var(--primary-light);
                    border-color: var(--primary);
                }

                .submenu {
                    display: none;
                }
            }

            .sidebar-title {
                font-size: 0.875rem;
                font-weight: 600;
                color: var(--text-muted);
                text-transform: uppercase;
                letter-spacing: 0.05em;
                margin: 0 0 1rem;
            }

            .sidebar-nav {
                list-style: none;
                padding: 0;
                margin: 0;
            }

            .sidebar-nav li {
                margin-bottom: 0.25rem;
            }

            .submenu {
                list-style: none;
                padding-left: 1.25rem;
                margin: 0.25rem 0 0.5rem;
                border-left: 1px solid var(--border-light);
            }

            .submenu a {
                padding: 0.25rem 0.75rem !important;
                font-size: 0.85rem !important;
                color: var(--text-muted) !important;
            }

            .submenu a:hover {
                color: var(--primary) !important;
                background: transparent !important;
            }

            .sidebar-nav a {
                display: block;
                padding: 0.5rem 1rem;
                color: var(--text-muted);
                text-decoration: none;
                border-radius: 6px;
                font-size: 0.95rem;
                transition: all 0.2s ease;
            }

            .sidebar-nav a:hover {
                color: var(--primary);
                background: var(--primary-light);
            }

            /* Report Feature Steps */
            .feature-intro {
                margin: 0.5rem 0 1.25rem !important;
                color: var(--text-muted) !important;
                font-size: 0.9rem;
            }

            .feature-steps {
                display: grid;
                grid-template-columns: repeat(3, 1fr);
                gap: 1rem;
                margin-bottom: 2.5rem;
            }

            @media (max-width: 1024px) {
                .feature-steps {
                    grid-template-columns: 1fr;
                    gap: 0.75rem;
                }
            }

            .step-item {
                background: var(--bg-light);
                padding: 0.75rem 1rem;
                border-radius: 10px;
                border: 1px solid var(--border-light);
                display: flex;
                align-items: center;
                gap: 1rem;
                transition: all 0.2s ease;
            }

            .step-item:hover {
                border-color: var(--primary-light);
                background: white;
                transform: translateY(-1px);
            }

            .step-badge {
                flex-shrink: 0;
                background: var(--primary-light);
                color: var(--primary-dark);
                padding: 0.2rem 0.5rem;
                border-radius: 4px;
                font-size: 0.7rem;
                font-weight: 700;
            }

            .step-text {
                font-size: 0.85rem;
                color: var(--text-muted);
                line-height: 1.4;
            }

            .step-text strong {
                color: var(--text-dark);
                font-weight: 600;
            }

            /* Report Grid Layout (Removed in favor of full-width code) */
            .code-block.full-width {
                max-width: 100%;
            }

            /* Main Content */
            .main-content {
                min-width: 0;
            }

            /* Screenshots Section */
            .screenshot-grid {
                display: grid;
                grid-template-columns: repeat(4, 1fr);
                gap: 2rem;
                margin: 2.5rem 0;
            }

            @media (max-width: 1024px) {
                .screenshot-grid {
                    grid-template-columns: repeat(2, 1fr);
                    gap: 1.5rem;
                    max-width: 500px; /* Limit total width on tablet and medium screens */
                    margin-left: 0;
                    margin-right: auto;
                }
            }

            @media (max-width: 640px) {
                .screenshot-grid {
                    grid-template-columns: repeat(2, 1fr);
                    gap: 1.5rem 1rem;
                    max-width: 440px; /* Limit total width to prevent oversized images */
                    margin-left: 0;
                    margin-right: auto;
                }
            }

            :global(.highlight-box) {
                position: absolute;
                border: 2px solid #4ecdc4;
                background: rgba(78, 205, 196, 0.1);
                border-radius: 0.25rem;
                z-index: 10;
                pointer-events: none;
            }

            .screenshot-card {
                display: flex;
                flex-direction: column;
                align-items: center;
                width: 100%;
                /* Remove max-width constraint to let 1fr distribute space evenly */
            }

            .screenshot-wrapper {
                position: relative;
                width: 100%;
                aspect-ratio: 9/20;
                border-radius: 1rem;
                border: 3px solid var(--text-dark);
                overflow: hidden;
                background: #f1f5f9;
                box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
                cursor: pointer;
                /* Use ease-in-out instead of complex cubic-bezier to avoid rendering calculation errors when scaling back */
                transition:
                    transform 0.3s ease-in-out,
                    box-shadow 0.3s ease-in-out;
                z-index: 1;
                /* Force specify scaling center */
                transform-origin: center center;
                /* Pre-notify browser of transformation, reserve rendering resources */
                will-change: transform;
                /* Maintain 3D transformation context */
                transform: translateZ(0);
            }

            .screenshot-wrapper:hover {
                transform: scale(1.6) translateZ(0);
                z-index: 50;
                box-shadow: 0 20px 40px rgba(0, 0, 0, 0.2);
            }

            @media (max-width: 640px) {
                .screenshot-wrapper:hover {
                    transform: scale(1.3) translateZ(0);
                }
            }

            .screenshot-wrapper img {
                width: 100%;
                height: 100%;
                object-fit: cover;
            }

            .screenshot-caption {
                font-size: 0.85rem;
                color: var(--text-muted);
                font-weight: 500;
                margin-top: 1rem;
                text-align: center;
            }

            .doc-section {
                margin-bottom: 4rem;
            }

            .doc-section h2,
            .doc-section h3 {
                display: flex;
                align-items: baseline;
            }

            .doc-section h2 {
                font-size: 1.75rem;
                font-weight: 700;
                color: var(--text-dark);
                margin: 0 0 1.5rem;
                padding-bottom: 0.75rem;
                border-bottom: 2px solid var(--primary-light);
            }

            .section-subtitle {
                font-size: 1rem;
                font-weight: 500;
                color: var(--text-muted);
                margin-left: 1rem;
            }

            .doc-section h3 {
                font-size: 1.25rem;
                font-weight: 600;
                color: var(--text-dark);
                margin: 2rem 0 1rem;
            }

            .doc-section p {
                color: var(--text-muted);
                line-height: 1.7;
                margin: 0 0 1rem;
            }

            /* Code Blocks */
            .code-block {
                background: var(--bg-light);
                border: 1px solid var(--border-light);
                border-radius: 12px;
                padding: 1.5rem;
                margin: 1rem 0;
                overflow-x: auto;
            }

            .code-block pre {
                margin: 0;
            }

            .code-block code {
                color: var(--text-dark);
                font-family: "Cascadia Code", "Fira Code", monospace;
                font-size: 0.9rem;
                line-height: 1.6;
                display: block;
            }

            .tok-comment {
                color: #334155;
                opacity: 0.8;
                font-family: inherit;
                font-size: 0.85rem;
                font-style: normal;
                font-weight: 350;
                transition: all 0.2s ease;
            }

            .code-block:hover .tok-comment {
                opacity: 1;
                color: var(
                    --primary
                ); /* Change to brand blue on hover, clear and guiding */
                font-weight: 400; /* Slightly bolder on hover, increase readability */
            }

            @media (max-width: 1024px) {
                .tok-comment {
                    display: block;
                    margin-left: 1.5rem;
                    margin-top: 0.1rem;
                    margin-bottom: 0.5rem;
                    font-size: 0.8rem;
                    border-left: 2px solid #e2e8f0;
                    padding-left: 0.75rem;
                }
            }

            /* Inline Code */
            p code,
            li code,
            td code {
                background: var(--primary-light);
                color: var(--primary-dark);
                padding: 0.125rem 0.375rem;
                border-radius: 4px;
                font-family: "Cascadia Code", "Fira Code", monospace;
                font-size: 0.875em;
            }

            /* Feature List */
            .tag-list {
                display: flex;
                flex-wrap: wrap;
                gap: 0.75rem;
                padding: 0;
                margin: 1.5rem 0;
                list-style: none;
            }

            .tag-list li {
                background: var(--primary-light);
                color: var(--primary-dark);
                padding: 0.4rem 1rem;
                border-radius: 2rem;
                font-size: 0.9rem;
                font-weight: 500;
                transition: all 0.2s ease;
                border: 1px solid var(--border-light);
            }

            .tag-list li:hover {
                background: var(--primary);
                color: white;
                transform: translateY(-2px);
                box-shadow: 0 4px 12px rgba(0, 102, 204, 0.2);
            }

            /* Info Cards */
            .info-grid {
                display: grid;
                grid-template-columns: repeat(2, 1fr);
                gap: 1.5rem;
                margin: 1.5rem 0;
            }

            @media (max-width: 768px) {
                .info-grid {
                    grid-template-columns: 1fr;
                }
            }

            .info-card {
                background: var(--bg-light);
                padding: 1.5rem;
                border-radius: 12px;
                margin: 1.5rem 0;
                border: 1px solid var(--border-light);
            }

            .info-card h4 {
                margin: 0 0 0.75rem;
                color: var(--text-dark);
            }

            .info-card p,
            .info-card li {
                color: var(--text-muted);
                margin: 0.5rem 0;
            }

            .info-card ul {
                padding-left: 1.25rem;
                margin: 0.5rem 0;
            }

            .info-card.warning {
                background: #fff7ed;
                border: 1px solid #fed7aa;
            }

            .info-card.warning h4 {
                color: #c2410c;
            }

            .info-card.warning p,
            .info-card.warning li {
                color: #9a3412;
            }

            /* Tables */
            .spec-table {
                width: 100%;
                border-collapse: collapse;
                margin: 1rem 0;
                font-size: 0.95rem;
            }

            .spec-table th,
            .spec-table td {
                padding: 0.875rem 1rem;
                text-align: left;
                border-bottom: 1px solid var(--border-light);
            }

            .spec-table th {
                background: var(--bg-light);
                font-weight: 600;
                color: var(--text-dark);
            }

            .spec-table td {
                color: var(--text-muted);
            }

            /* CTA Box */
            .cta-box {
                background: linear-gradient(135deg, #f0f7ff 0%, #e6f0fa 100%);
                padding: 2rem;
                border-radius: 16px;
                text-align: center;
                margin-top: 2rem;
            }

            .cta-box p {
                font-size: 1.125rem;
                color: var(--text-dark);
                margin: 0 0 1rem;
            }

            .btn {
                display: inline-flex;
                padding: 0.75rem 1.5rem;
                font-weight: 600;
                border-radius: 10px;
                text-decoration: none;
                transition: all 0.2s ease;
            }

            .btn-primary {
                background: linear-gradient(
                    135deg,
                    var(--primary) 0%,
                    var(--primary-dark) 100%
                );
                color: white;
            }

            .btn-primary:hover {
                transform: translateY(-2px);
                color: white;
            }
        </style>
    </div>
</Layout>
